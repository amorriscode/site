var stork=function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";function r(e){const t=n.p;let r="";return(!t||t.indexOf("://")<0)&&(r+=window.location.protocol+"//"+window.location.host),r+=t||"/",r+e}let s;n.r(t),n.d(t,"wasm_register_index",(function(){return v})),n.d(t,"wasm_search",(function(){return b}));const o=new Array(32).fill(void 0);function i(e){return o[e]}o.push(void 0,null,!0,!1);let a=o.length;function l(e){const t=i(e);return function(e){e<36||(o[e]=a,a=e)}(e),t}let u=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();let c=null;function h(){return null!==c&&c.buffer===s.memory.buffer||(c=new Uint8Array(s.memory.buffer)),c}function d(e,t){return u.decode(h().subarray(e,e+t))}let f=0,g=new TextEncoder("utf-8");const p="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}};function m(e,t,n){if("string"!=typeof e)throw new Error("expected a string argument");if(void 0===n){const n=g.encode(e),r=t(n.length);return h().subarray(r,r+n.length).set(n),f=n.length,r}let r=e.length,s=t(r);const o=h();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[s+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),s=n(s,r,r=i+3*e.length);const t=h().subarray(s+i,s+r),o=p(e,t);if(o.read!==e.length)throw new Error("failed to pass whole string");i+=o.written}return f=i,s}let y=null;function w(){return null!==y&&y.buffer===s.memory.buffer||(y=new Int32Array(s.memory.buffer)),y}function v(e,t){try{const u=s.__wbindgen_export_0.value-16;s.__wbindgen_export_0.value=u;var n=m(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=f,o=function(e,t){const n=t(1*e.length);return h().set(e,n/1),f=e.length,n}(t,s.__wbindgen_malloc),i=f;s.wasm_register_index(u,n,r,o,i);var a=w()[u/4+0],l=w()[u/4+1];return d(a,l)}finally{s.__wbindgen_export_0.value+=16,s.__wbindgen_free(a,l)}}function b(e,t){try{const u=s.__wbindgen_export_0.value-16;s.__wbindgen_export_0.value=u;var n=m(e,s.__wbindgen_malloc,s.__wbindgen_realloc),r=f,o=m(t,s.__wbindgen_malloc,s.__wbindgen_realloc),i=f;s.wasm_search(u,n,r,o,i);var a=w()[u/4+0],l=w()[u/4+1];return d(a,l)}finally{s.__wbindgen_export_0.value+=16,s.__wbindgen_free(a,l)}}function _(e){return function(){try{return e.apply(this,arguments)}catch(e){let t=function(){try{return e instanceof Error?`${e.message}\n\nStack:\n${e.stack}`:e.toString()}catch(e){return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",t),e}}}t.default=async function e(t){void 0===t&&(t=r("node_modules/stork-search/stork.js").replace(/\.js$/,"_bg.wasm"));const n={wbg:{}};n.wbg.__wbg_error_4bb6c2a97407129a=_((function(e,t){try{console.error(d(e,t))}finally{s.__wbindgen_free(e,t)}})),n.wbg.__wbg_new_59cb74e423758ede=_((function(){return function(e){a===o.length&&o.push(o.length+1);const t=a;if(a=o[t],"number"!=typeof a)throw new Error("corrupt heap");return o[t]=e,t}(new Error)})),n.wbg.__wbg_stack_558ba5917b466edd=_((function(e,t){var n=m(i(t).stack,s.__wbindgen_malloc,s.__wbindgen_realloc),r=f;w()[e/4+1]=r,w()[e/4+0]=n})),n.wbg.__wbindgen_object_drop_ref=function(e){l(e)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(d(e,t))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:u,module:c}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,n);return s=u.exports,e.__wbindgen_wasm_module=c,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.resolveSearch=function(e,t){var n=null,s=null;try{n=r.wasm_search(e,t),s=JSON.parse(n)}catch(e){throw Error("Could not parse data from wasm_search. If you see this, please file a bug: https://jil.im/storkbug "+n)}if(!s)throw Error("Data was an empty object");if(s.error)throw Error("Could not perform search: the WASM binary failed to return search results.\n    You might not be serving your search index properly.\n    If you think this is an error, please file a bug: https://jil.im/storkbug\n    \n    The WASM binary came back with:\n    "+s.error);return s}},function(e,t,n){"use strict";var r,s=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(5),a=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.name="StorkError",n}return s(t,e),t}(Error),u=null,c=null;function h(e){return void 0===e&&(e=null),new Promise((function(t,n){u?"failed"===u.state?n():t():((u=o.createWasmQueue(e)).runAfterWasmLoaded((function(){t()})),u.runOnWasmLoadFailure((function(e){n(e)})))}))}function d(e,t,n){return void 0===n&&(n={}),new Promise((function(r,s){var o=null;("string"!=typeof e&&(o="Index registration name must be a string."),"string"!=typeof t&&(o="URL must be a string."),u||(o="Make sure to call stork.initialize() before calling stork.downloadIndex()"),o)?s(new l(o)):(c||(c=new i.EntityManager(u)),c.register(e,t,n).then(r).catch(s))}))}function f(e){if(!c)throw new l("Make sure to call stork.downloadIndex() successfully before calling stork.attach()");try{c.attachToDom(e)}catch(e){throw new l(e.message)}}t.initialize=h,t.downloadIndex=d,t.attach=f,t.register=function(e,t,n){var r=h(),s=d(e,t,n);return f(e),Promise.all([r,s]).then()},t.search=function(e,t){if(!e||!t)throw new l("Make sure to call stork.search() with two arguments: the index name and the search query.");if(!c||!c.entities[e]||c.entities[e].progress<1)throw new l("Couldn't find index. Make sure the stork.downloadIndex() promise has resolved before calling stork.search().");return a.resolveSearch(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(4);t.createWasmQueue=function(e){var t=e||"https://files.stork-search.net/stork.wasm",n=new s.default;return r.default(t).then((function(){n.loaded=!0,n.handleWasmLoad()})).catch((function(e){n.handleWasmFailure(e)})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.state="queueing",this.loaded=!1,this.queue=[]}return e.prototype.runAfterWasmLoaded=function(e){this.loaded?e():this.queue.push(e)},e.prototype.runOnWasmLoadFailure=function(e){"failed"===this.state?e(null):this.failureMethod=e},e.prototype.handleWasmLoad=function(){for(var e=0,t=this.queue;e<t.length;e++){(0,t[e])()}this.queue=[]},e.prototype.handleWasmFailure=function(e){this.failureMethod&&this.failureMethod(e)},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),o=n(11),i=n(13),a=n(0),l=function(){function e(e){this.entities={},this.wasmQueue=e}return e.prototype.handleLoadedIndex=function(e,t){var n=t.target,s=n.status,o=n.response;if(s<200||s>299)throw e.setDownloadError(),new Error("Got a "+s+" error from "+e.url+"!");if(!this.wasmQueue)throw new Error("Internal Error - this.wasmQueue doesn't exist");this.wasmQueue.runAfterWasmLoaded((function(){if(!e.error){var t=a.wasm_register_index(e.name,new Uint8Array(o));e.setDownloadProgress(1),e.config.printIndexInfo&&console.log(r({name:e.name,sizeInBytes:o.byteLength},JSON.parse(t)))}}))},e.prototype.register=function(e,t,n){var r=this;return new Promise((function(a,l){var u=o.defaultConfig;try{u=o.calculateOverriddenConfig(n)}catch(e){return void l(e)}if(r.entities[e]&&console.warn("Search index with name "+e+" already exists! Overwriting."),r.wasmQueue){var c=new s.Entity(e,t,u,r.wasmQueue);r.entities[e]=c,i.loadIndexFromUrl(c,t,{load:function(e){return r.handleLoadedIndex(c,e)},progress:function(e,t){t.setDownloadProgress(e)},error:function(){c.setDownloadError()}})}else l(new Error("Internal Stork error"))}))},e.prototype.attachToDom=function(e){if(!this.entities[e])throw new Error("Index "+e+" has not been registered!");this.entities[e].attachToDom()},e}();t.EntityManager=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(7),o=function(){function e(e,t,n,r){this.eventListenerFunctions={},this.results=[],this.highlightedResult=0,this.progress=0,this.error=!1,this.totalResultCount=0,this.resultsVisible=!1,this.hoverSelectEnabled=!0,this.name=e,this.url=t,this.config=n,this.wasmQueue=r}return e.prototype.attachToDom=function(){this.domManager=new s.EntityDom(this.name,this)},e.prototype.getCurrentMessage=function(){if(!this.domManager)return null;var e=this.domManager.getQuery();return this.error?"Error! Check the browser console.":this.progress<1||!this.wasmQueue.loaded?"Loading...":(null==e?void 0:e.length)<this.config.minimumQueryLength?"Filtering...":this.results?0===this.totalResultCount?"No files found.":1===this.totalResultCount?"1 file found.":this.totalResultCount+" files found.":null},e.prototype.generateRenderConfig=function(){return{results:this.results,resultsVisible:!0,showScores:this.config.showScores,message:this.getCurrentMessage(),showProgress:this.config.showProgress,progress:this.progress,error:this.error}},e.prototype.render=function(){this.domManager&&this.domManager.render(this.generateRenderConfig())},e.prototype.injestSearchData=function(e){this.results=e.results,this.totalResultCount=e.total_hit_count,this.highlightedResult=0;var t=e.url_prefix||"";this.results.map((function(e){var n="";e.excerpts&&e.excerpts[0]&&e.excerpts[0].internal_annotations&&e.excerpts[0].internal_annotations[0]&&e.excerpts[0].internal_annotations[0].a&&"string"==typeof e.excerpts[0].internal_annotations[0].a&&(n=e.excerpts[0].internal_annotations[0].a),e.entry.url=""+t+e.entry.url+n})),this.render()},e.prototype.getSanitizedResults=function(){var e=this.results;return e.map((function(e){delete e.title_highlight_ranges,e.excerpts.map((function(e){delete e.highlight_ranges,delete e.internal_annotations}))})),e},e.prototype.setDownloadProgress=function(e){this.error=!1,this.progress=e,this.config.showProgress&&this.render()},e.prototype.setDownloadError=function(){this.progress=1,this.error=!0,this.render()},e.prototype.performSearch=function(e){if(this.wasmQueue.loaded&&!this.error)if(e.length>=this.config.minimumQueryLength)try{var t=r.resolveSearch(this.name,e);if(!t)return;0,this.injestSearchData(t),this.config.onQueryUpdate&&this.config.onQueryUpdate(e,this.getSanitizedResults())}catch(e){console.error(e)}else this.results=[],this.render();else this.render()},e}();t.Entity=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),s=n(9),o={results:[],resultsVisible:!1,showScores:!1,message:null,showProgress:!1,progress:1,error:!1},i=function(){function e(e,t){var n,s,i=this;this.scrollAnchorPoint="end",this.entity=t;var a=[{selector:'input[data-stork="'+e+'"]',elementName:"input"},{selector:'div[data-stork="'+e+'-output"]',elementName:"output"}].map((function(t){var n=document.querySelector(t.selector);if(!n)throw new Error('Could not register search box "'+e+'": '+t.elementName+" element not found. Make sure an element matches the query selector `"+t.selector+"`");return n})),l=a[0],u=a[1];this.elements={input:l,output:u,list:r.create("ul",{classNames:["stork-results"]}),attribution:r.create("div",{classNames:["stork-attribution"]}),progress:r.create("div",{classNames:["stork-progress"]}),message:r.create("div",{classNames:["stork-message"]}),closeButton:r.create("button",{classNames:["stork-close-button"]})},this.elements.input.removeEventListener("input",this.entity.eventListenerFunctions.inputInputEvent),this.elements.input.removeEventListener("keydown",this.entity.eventListenerFunctions.inputKeydownEvent),this.entity.eventListenerFunctions={inputInputEvent:function(e){i.handleInputEvent(e)},inputKeydownEvent:function(e){i.handleKeyDownEvent(e)}},this.elements.input.addEventListener("input",this.entity.eventListenerFunctions.inputInputEvent),this.elements.input.addEventListener("keydown",this.entity.eventListenerFunctions.inputKeydownEvent),null===(n=this.elements.list)||void 0===n||n.addEventListener("mousemove",(function(){i.hoverSelectEnabled=!0})),this.elements.attribution.innerHTML='Powered by <a href="https://stork-search.net">Stork</a>',r.setText(this.elements.closeButton,"×"),r.add(this.elements.progress,"afterend",this.elements.input),null===(s=this.elements.closeButton)||void 0===s||s.addEventListener("click",(function(){i.elements.input.value="",i.elements.input.focus(),i.render(o);var e=[i.entity.config.onInputCleared,i.entity.config.onResultsHidden],t=e[0],n=e[1];t&&t(),n&&n()}))}return e.prototype.clearDom=function(){var e;r.clear(this.elements.output),r.clear(this.elements.list),null===(e=this.elements.closeButton)||void 0===e||e.remove(),this.elements.output.classList.remove("stork-output-visible")},e.prototype.render=function(e){var t,n=this,o=this.elements.input.value;if(this.clearDom(),this.lastRenderState=e,e.showProgress&&e.progress&&e.progress<1?this.elements.progress.style.width=100*e.progress+"%":e.showProgress&&(this.elements.progress.style.width="100%",this.elements.progress.style.opacity="0"),e.error&&this.elements.input.classList.add("stork-error"),this.getQuery().length>0&&e.resultsVisible&&(this.elements.output.classList.add("stork-output-visible"),r.add(this.elements.message,"beforeend",this.elements.output)),e.message&&r.setText(this.elements.message,e.message),(null===(t=e.results)||void 0===t?void 0:t.length)>0&&e.resultsVisible){r.add(this.elements.list,"beforeend",this.elements.output);for(var i=function(t){var o=e.results[t],i={selected:t===a.highlightedResult,showScores:e.showScores},l=s.resultToListItem(o,i);r.add(l,"beforeend",a.elements.list),l.addEventListener("mousemove",(function(){n.hoverSelectEnabled&&t!==n.highlightedResult&&n.changeHighlightedResult({to:t,shouldScrollTo:!1})})),l.addEventListener("click",(function(e){e.preventDefault(),n.selectResult()}))},a=this,l=0;l<e.results.length;l++)i(l);r.add(this.elements.attribution,"beforeend",this.elements.output)}((null==o?void 0:o.length)||0)>0&&this.entity.config.showCloseButton&&r.add(this.elements.closeButton,"afterend",this.elements.input)},e.prototype.selectResult=function(){if(null!=this.highlightedResult){var e=this.entity.results[this.highlightedResult];this.entity.config.onResultSelected?Promise.resolve(this.entity.config.onResultSelected(this.getQuery(),e)).finally((function(){window.location.assign(e.entry.url)})):window.location.assign(e.entry.url)}},e.prototype.changeHighlightedResult=function(e){var t,n=this.highlightedResult,s=Math.max(0,Math.min(this.entity.results.length-1,e.to));this.highlightedResult=s,this.scrollAnchorPoint=(n||0)<s?"end":"start";for(var o=null,i=0;i<this.entity.results.length;i++){var a=null===(t=this.elements.list)||void 0===t?void 0:t.children[i];if(a){i==s?(a.classList.add("selected"),o=a):a.classList.remove("selected")}}return e.shouldScrollTo&&(this.hoverSelectEnabled=!1,o&&r.existsBeyondContainerBounds(o,this.elements.list)&&o.scrollIntoView({behavior:"smooth",block:this.scrollAnchorPoint,inline:"nearest"})),s},e.prototype.handleKeyDownEvent=function(e){switch(e.keyCode){case 40:if(null==this.highlightedResult)this.changeHighlightedResult({to:0,shouldScrollTo:!0});else{var t=Math.min(this.highlightedResult+1,this.entity.results.length-1);this.changeHighlightedResult({to:t,shouldScrollTo:!0})}break;case 38:if(null!=this.highlightedResult){t=Math.max(0,this.highlightedResult-1);this.changeHighlightedResult({to:t,shouldScrollTo:!0})}break;case 13:this.selectResult();break;case 27:if(this.lastRenderState.resultsVisible)this.render(o),(n=this.entity.config.onResultsHidden)&&n();else if(this.elements.input.value.length>0){var n;this.elements.input.value="",this.render(o),(n=this.entity.config.onInputCleared)&&n()}break;default:return}},e.prototype.handleInputEvent=function(e){this.entity.performSearch(e.target.value)},e.prototype.getQuery=function(){return this.elements.input.value},e}();t.EntityDom=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e,t){var n=document.createElement(e);return t.classNames&&n.setAttribute("class",t.classNames.join(" ")),n},t.add=function(e,t,n){n.insertAdjacentElement(t,e)},t.clear=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},t.setText=function(e,t){var n=document.createTextNode(t);e&&e.firstChild?e.replaceChild(n,e.firstChild):e&&e.appendChild(n)},t.existsBeyondContainerBounds=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.bottom>r.bottom||n.top<r.top}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.resultToListItem=function(e,t){var n=document.createElement("template");return n.innerHTML='\n<li class="stork-result'+(t.selected?" selected":"")+'">\n  <a href="'+e.entry.url+'">\n    <div style="display: flex; justify-content: space-between">\n      <p class="stork-title">'+r.highlight(e.entry.title,e.title_highlight_ranges)+"</p>\n      "+(t.showScores?"<code><b>"+e.score+"</b></code>":"")+"\n    </div>\n      "+e.excerpts.map((function(e){return'<div style="display: flex; justify-content: space-between"><p class="stork-excerpt">\n        ...'+r.highlight(e.text,e.highlight_ranges)+"...\n        </p>\n        "+(t.showScores?"<code>"+e.score+"</code>":"")+"\n        </div>"})).join("")+"\n  </a>\n</li>",n.content.firstElementChild}},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){return e.substr(0,t)+n+e.substr(t)}var r=0;for(let s of t){let t='<span class="stork-highlight">',o="</span>";e=n(e,s.beginning+r,t),r+=t.length,e=n(e,s.end+r,o),r+=o.length}return e}n.r(t),n.d(t,"highlight",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.defaultConfig={showProgress:!0,printIndexInfo:!1,showScores:!1,showCloseButton:!0,minimumQueryLength:3,onQueryUpdate:void 0,onResultSelected:void 0,onResultsHidden:void 0,onInputCleared:void 0},t.calculateOverriddenConfig=function(e){var n=r.difference(Object.keys(e),Object.keys(t.defaultConfig));if(n.length>0){throw new Error("Invalid "+function(e,t,n){return 1==e?t:n}(n.length,"key","keys")+" in config object: "+JSON.stringify(Array.from(n)))}for(var s=Object.assign({},t.defaultConfig),o=0,i=Object.keys(t.defaultConfig);o<i.length;o++){var a=i[o],l=e[a];void 0!==l&&(s[a]=l)}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToElement=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},t.difference=function(e,t){var n=new Set(e),r=new Set(t),s=new Set(Array.from(n).filter((function(e){return!r.has(e)})));return Array.from(s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loadIndexFromUrl=function(e,t,n){var r=new XMLHttpRequest;r.addEventListener("load",(function(t){n.load&&n.load(t,e)})),r.addEventListener("error",(function(){console.error("Could not fetch "+t),n.error()})),r.addEventListener("progress",(function(t){if(n.progress){var r=Math.min(Math.max(.03,t.loaded/t.total),.94);n.progress(r,e)}})),n.progress&&n.progress(.03,e),r.responseType="arraybuffer",r.open("GET",t),r.send()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdG9yay93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zdG9yay8uL25vZGVfbW9kdWxlcy9zdG9yay1zZWFyY2gvc3RvcmsuanMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9zZWFyY2hEYXRhLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvbWFpbi50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL3dhc21Mb2FkZXIudHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy93YXNtUXVldWUudHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9lbnRpdHlNYW5hZ2VyLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvZW50aXR5LnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvZW50aXR5RG9tLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvZG9tLnRzIiwid2VicGFjazovL3N0b3JrLy4vanMvcmVzdWx0VG9MaXN0SXRlbS50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL3BlbmNpbC5qcyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9zdG9yay8uL2pzL3V0aWwudHMiLCJ3ZWJwYWNrOi8vc3RvcmsvLi9qcy9pbmRleExvYWRlci50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldEFic29sdXRlVXJsIiwicmVsYXRpdmVVcmwiLCJwdWJsaWNQYXRoIiwidXJsIiwiaW5kZXhPZiIsIndpbmRvdyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0Iiwid2FzbSIsImhlYXAiLCJBcnJheSIsImZpbGwiLCJ1bmRlZmluZWQiLCJnZXRPYmplY3QiLCJpZHgiLCJwdXNoIiwiaGVhcF9uZXh0IiwibGVuZ3RoIiwidGFrZU9iamVjdCIsInJldCIsImRyb3BPYmplY3QiLCJjYWNoZWRUZXh0RGVjb2RlciIsIlRleHREZWNvZGVyIiwiaWdub3JlQk9NIiwiZmF0YWwiLCJkZWNvZGUiLCJjYWNoZWdldFVpbnQ4TWVtb3J5MCIsImdldFVpbnQ4TWVtb3J5MCIsImJ1ZmZlciIsIm1lbW9yeSIsIlVpbnQ4QXJyYXkiLCJnZXRTdHJpbmdGcm9tV2FzbTAiLCJwdHIiLCJsZW4iLCJzdWJhcnJheSIsIldBU01fVkVDVE9SX0xFTiIsImNhY2hlZFRleHRFbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJlbmNvZGVTdHJpbmciLCJlbmNvZGVJbnRvIiwiYXJnIiwidmlldyIsImJ1ZiIsImVuY29kZSIsInNldCIsInJlYWQiLCJ3cml0dGVuIiwicGFzc1N0cmluZ1RvV2FzbTAiLCJtYWxsb2MiLCJyZWFsbG9jIiwiRXJyb3IiLCJtZW0iLCJvZmZzZXQiLCJjb2RlIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiY2FjaGVnZXRJbnQzMk1lbW9yeTAiLCJnZXRJbnQzMk1lbW9yeTAiLCJJbnQzMkFycmF5Iiwid2FzbV9yZWdpc3Rlcl9pbmRleCIsImRhdGEiLCJyZXRwdHIiLCJfX3diaW5kZ2VuX2V4cG9ydF8wIiwicHRyMCIsIl9fd2JpbmRnZW5fbWFsbG9jIiwiX193YmluZGdlbl9yZWFsbG9jIiwibGVuMCIsInB0cjEiLCJwYXNzQXJyYXk4VG9XYXNtMCIsImxlbjEiLCJyMCIsInIxIiwiX193YmluZGdlbl9mcmVlIiwid2FzbV9zZWFyY2giLCJxdWVyeSIsImxvZ0Vycm9yIiwiZiIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImUiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGFjayIsInRvU3RyaW5nIiwiXyIsImNvbnNvbGUiLCJhc3luYyIsImluaXQiLCJpbnB1dCIsInJlcGxhY2UiLCJpbXBvcnRzIiwid2JnIiwiX193YmdfZXJyb3JfNGJiNmMyYTk3NDA3MTI5YSIsImFyZzAiLCJhcmcxIiwiX193YmdfbmV3XzU5Y2I3NGU0MjM3NThlZGUiLCJvYmoiLCJhZGRIZWFwT2JqZWN0IiwiX193Ymdfc3RhY2tfNTU4YmE1OTE3YjQ2NmVkZCIsIl9fd2JpbmRnZW5fb2JqZWN0X2Ryb3BfcmVmIiwiX193YmluZGdlbl90aHJvdyIsIlJlcXVlc3QiLCJVUkwiLCJmZXRjaCIsImluc3RhbmNlIiwiUmVzcG9uc2UiLCJXZWJBc3NlbWJseSIsImluc3RhbnRpYXRlU3RyZWFtaW5nIiwiaGVhZGVycyIsIndhcm4iLCJieXRlcyIsImFycmF5QnVmZmVyIiwiaW5zdGFudGlhdGUiLCJJbnN0YW5jZSIsImxvYWQiLCJfX3diaW5kZ2VuX3dhc21fbW9kdWxlIiwic2VhcmNoT3V0cHV0IiwiSlNPTiIsInBhcnNlIiwid2FzbVF1ZXVlIiwiZW50aXR5TWFuYWdlciIsImluaXRpYWxpemUiLCJ3YXNtT3ZlcnJpZGVVcmwiLCJQcm9taXNlIiwicmVzIiwicmVqIiwic3RhdGUiLCJjcmVhdGVXYXNtUXVldWUiLCJydW5BZnRlcldhc21Mb2FkZWQiLCJydW5Pbldhc21Mb2FkRmFpbHVyZSIsImRvd25sb2FkSW5kZXgiLCJjb25maWciLCJTdG9ya0Vycm9yIiwiRW50aXR5TWFuYWdlciIsInJlZ2lzdGVyIiwidGhlbiIsImNhdGNoIiwiYXR0YWNoIiwiYXR0YWNoVG9Eb20iLCJpbml0UHJvbWlzZSIsImRvbndsb2FkUHJvbWlzZSIsImFsbCIsInNlYXJjaCIsImVudGl0aWVzIiwicHJvZ3Jlc3MiLCJyZXNvbHZlU2VhcmNoIiwid2FzbVVybCIsInF1ZXVlIiwibG9hZGVkIiwiaGFuZGxlV2FzbUxvYWQiLCJoYW5kbGVXYXNtRmFpbHVyZSIsImZuIiwiZmFpbHVyZU1ldGhvZCIsImhhbmRsZUxvYWRlZEluZGV4IiwiZW50aXR5IiwiZXZlbnQiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNldERvd25sb2FkRXJyb3IiLCJpbmRleEluZm8iLCJzZXREb3dubG9hZFByb2dyZXNzIiwicHJpbnRJbmRleEluZm8iLCJsb2ciLCJzaXplSW5CeXRlcyIsImJ5dGVMZW5ndGgiLCJmdWxsQ29uZmlnIiwiZGVmYXVsdENvbmZpZyIsImNhbGN1bGF0ZU92ZXJyaWRkZW5Db25maWciLCJFbnRpdHkiLCJsb2FkSW5kZXhGcm9tVXJsIiwiZXZlbnRMaXN0ZW5lckZ1bmN0aW9ucyIsInJlc3VsdHMiLCJoaWdobGlnaHRlZFJlc3VsdCIsInRvdGFsUmVzdWx0Q291bnQiLCJyZXN1bHRzVmlzaWJsZSIsImhvdmVyU2VsZWN0RW5hYmxlZCIsImRvbU1hbmFnZXIiLCJFbnRpdHlEb20iLCJnZXRDdXJyZW50TWVzc2FnZSIsImdldFF1ZXJ5IiwibWluaW11bVF1ZXJ5TGVuZ3RoIiwiZ2VuZXJhdGVSZW5kZXJDb25maWciLCJzaG93U2NvcmVzIiwic2hvd1Byb2dyZXNzIiwicmVuZGVyIiwiaW5qZXN0U2VhcmNoRGF0YSIsInRvdGFsX2hpdF9jb3VudCIsInVybFByZWZpeCIsInVybF9wcmVmaXgiLCJtYXAiLCJ1cmxTdWZmaXgiLCJleGNlcnB0cyIsImludGVybmFsX2Fubm90YXRpb25zIiwiZW50cnkiLCJnZXRTYW5pdGl6ZWRSZXN1bHRzIiwicmVzdWx0IiwidGl0bGVfaGlnaGxpZ2h0X3JhbmdlcyIsImV4Y2VycHQiLCJoaWdobGlnaHRfcmFuZ2VzIiwicGVyY2VudGFnZSIsInBlcmZvcm1TZWFyY2giLCJvblF1ZXJ5VXBkYXRlIiwiaGlkZGVuSW50ZXJmYWNlUmVuZGVyU3RhdGUiLCJzY3JvbGxBbmNob3JQb2ludCIsInNlbGVjdG9yIiwiZWxlbWVudE5hbWUiLCJvdXRwdXQiLCJlbGVtZW50cyIsImxpc3QiLCJjbGFzc05hbWVzIiwiYXR0cmlidXRpb24iLCJjbG9zZUJ1dHRvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbnB1dElucHV0RXZlbnQiLCJpbnB1dEtleWRvd25FdmVudCIsImhhbmRsZUlucHV0RXZlbnQiLCJoYW5kbGVLZXlEb3duRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5uZXJIVE1MIiwic2V0VGV4dCIsImFkZCIsImZvY3VzIiwiY2xlYXJEb20iLCJjbGVhciIsInJlbW92ZSIsImNsYXNzTGlzdCIsImxhc3RSZW5kZXJTdGF0ZSIsInN0eWxlIiwid2lkdGgiLCJvcGFjaXR5IiwiZ2VuZXJhdGVPcHRpb25zIiwic2VsZWN0ZWQiLCJsaXN0SXRlbSIsInJlc3VsdFRvTGlzdEl0ZW0iLCJjaGFuZ2VIaWdobGlnaHRlZFJlc3VsdCIsInRvIiwic2hvdWxkU2Nyb2xsVG8iLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdFJlc3VsdCIsInNob3dDbG9zZUJ1dHRvbiIsIm9uUmVzdWx0U2VsZWN0ZWQiLCJyZXNvbHZlIiwiZmluYWxseSIsImFzc2lnbiIsIm9wdGlvbnMiLCJwcmV2aW91c1ZhbHVlIiwicmVzb2x2ZWRJZHgiLCJNYXRoIiwibWF4IiwibWluIiwidGFyZ2V0Rm9yU2Nyb2xsVG8iLCJlbGVtZW50IiwiY2hpbGRyZW4iLCJleGlzdHNCZXlvbmRDb250YWluZXJCb3VuZHMiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJpbmxpbmUiLCJrZXlDb2RlIiwidGFyZ2V0Iiwib25SZXN1bHRzSGlkZGVuIiwib25JbnB1dENsZWFyZWQiLCJhdHRyaWJ1dGVzIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImpvaW4iLCJyZWZlcmVuY2UiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0IiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsImFwcGVuZENoaWxkIiwiY29udGFpbmVyIiwiZWxlbUJvdW5kaW5nQm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY29udGFpbmVyQm91bmRpbmdCb3giLCJib3R0b20iLCJ0b3AiLCJ0ZW1wbGF0ZSIsImhpZ2hsaWdodCIsInRpdGxlIiwic2NvcmUiLCJjb250ZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpbnNlcnQiLCJzdHIiLCJpbmRleCIsInN1YnN0ciIsImNoYXJhY3RlcnNBbHJlYWR5QWRkZWQiLCJyYW5nZSIsImJlZ2lubmluZ0luc2VydGlvbiIsImVuZEluc2VydGlvbiIsImJlZ2lubmluZyIsImVuZCIsIm92ZXJyaWRlcyIsImNvbmZpZ0tleURpZmYiLCJkaWZmZXJlbmNlIiwia2V5cyIsImNvdW50Iiwic2luZ3VsYXIiLCJwbHVyYWwiLCJzdHJpbmdpZnkiLCJmcm9tIiwib3ZlcnJpZGVWYWwiLCJodG1sIiwidHJpbSIsImFycjEiLCJhcnIyIiwic2V0MSIsIlNldCIsInNldDIiLCJkaWZmIiwiZmlsdGVyIiwieCIsImhhcyIsImNhbGxiYWNrcyIsIlhNTEh0dHBSZXF1ZXN0IiwibG9hZGVkUGVyY2VudGFnZSIsInRvdGFsIiwicmVzcG9uc2VUeXBlIiwib3BlbiIsInNlbmQiXSwibWFwcGluZ3MiOiJzQkFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFP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QU1JLFFBQU8sU0FBQUMsR0FBSyxPQUFDSCxFQUFLSSxJQUFJRCxPQUM1RCxPQUFPclQsTUFBTTBTLEtBQUtTLEssOEVDQXBCLDRCQUNFbEssRUFDQXpKLEVBQ0ErVCxHQUVBLElBQU1wVixFQUFJLElBQUlxVixlQUVkclYsRUFBRTZPLGlCQUFpQixRQUFRLFNBQUExSSxHQUVyQmlQLEVBQVU5TSxNQUNaOE0sRUFBVTlNLEtBQUtuQyxFQUFHMkUsTUFJdEI5SyxFQUFFNk8saUJBQWlCLFNBQVMsV0FDMUJwSSxRQUFRTCxNQUFNLG1CQUFtQi9FLEdBQ2pDK1QsRUFBVWhQLFdBR1pwRyxFQUFFNk8saUJBQWlCLFlBQVksU0FBQTFJLEdBQzdCLEdBQUlpUCxFQUFVaEwsU0FBVSxDQUN0QixJQUFNa0wsRUFBbUIzRSxLQUFLRSxJQUM1QkYsS0FBS0MsSUF6QnVCLElBeUJVekssRUFBRXFFLE9BQVNyRSxFQUFFb1AsT0F4QlQsS0EyQjVDSCxFQUFVaEwsU0FBU2tMLEVBQWtCeEssT0FJckNzSyxFQUFVaEwsVUFDWmdMLEVBQVVoTCxTQWpDc0IsSUFpQ2dCVSxHQUdsRDlLLEVBQUV3VixhQUFlLGNBQ2pCeFYsRUFBRXlWLEtBQUssTUFBT3BVLEdBQ2RyQixFQUFFMFYiLCJmaWxlIjoic3RvcmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJcbiAgICAgIGZ1bmN0aW9uIGdldEFic29sdXRlVXJsKHJlbGF0aXZlVXJsKSB7XG4gICAgICAgIGNvbnN0IHB1YmxpY1BhdGggPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXztcblxuICAgICAgICBsZXQgdXJsID0gJyc7XG5cbiAgICAgICAgaWYgKCFwdWJsaWNQYXRoIHx8IHB1YmxpY1BhdGguaW5kZXhPZignOi8vJykgPCAwKSB7XG4gICAgICAgICAgdXJsICs9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwdWJsaWNQYXRoKSB7XG4gICAgICAgICAgdXJsICs9IHB1YmxpY1BhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cmwgKyByZWxhdGl2ZVVybDtcbiAgICAgIH1cblxubGV0IHdhc207XG5cbmNvbnN0IGhlYXAgPSBuZXcgQXJyYXkoMzIpLmZpbGwodW5kZWZpbmVkKTtcblxuaGVhcC5wdXNoKHVuZGVmaW5lZCwgbnVsbCwgdHJ1ZSwgZmFsc2UpO1xuXG5mdW5jdGlvbiBnZXRPYmplY3QoaWR4KSB7IHJldHVybiBoZWFwW2lkeF07IH1cblxubGV0IGhlYXBfbmV4dCA9IGhlYXAubGVuZ3RoO1xuXG5mdW5jdGlvbiBkcm9wT2JqZWN0KGlkeCkge1xuICAgIGlmIChpZHggPCAzNikgcmV0dXJuO1xuICAgIGhlYXBbaWR4XSA9IGhlYXBfbmV4dDtcbiAgICBoZWFwX25leHQgPSBpZHg7XG59XG5cbmZ1bmN0aW9uIHRha2VPYmplY3QoaWR4KSB7XG4gICAgY29uc3QgcmV0ID0gZ2V0T2JqZWN0KGlkeCk7XG4gICAgZHJvcE9iamVjdChpZHgpO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnLCB7IGlnbm9yZUJPTTogdHJ1ZSwgZmF0YWw6IHRydWUgfSk7XG5cbmNhY2hlZFRleHREZWNvZGVyLmRlY29kZSgpO1xuXG5sZXQgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQ4TWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5MDtcbn1cblxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRleHREZWNvZGVyLmRlY29kZShnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIsIHB0ciArIGxlbikpO1xufVxuXG5sZXQgV0FTTV9WRUNUT1JfTEVOID0gMDtcblxubGV0IGNhY2hlZFRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCd1dGYtOCcpO1xuXG5jb25zdCBlbmNvZGVTdHJpbmcgPSAodHlwZW9mIGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8gPT09ICdmdW5jdGlvbidcbiAgICA/IGZ1bmN0aW9uIChhcmcsIHZpZXcpIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byhhcmcsIHZpZXcpO1xufVxuICAgIDogZnVuY3Rpb24gKGFyZywgdmlldykge1xuICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgIHZpZXcuc2V0KGJ1Zik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVhZDogYXJnLmxlbmd0aCxcbiAgICAgICAgd3JpdHRlbjogYnVmLmxlbmd0aFxuICAgIH07XG59KTtcblxuZnVuY3Rpb24gcGFzc1N0cmluZ1RvV2FzbTAoYXJnLCBtYWxsb2MsIHJlYWxsb2MpIHtcblxuICAgIGlmICh0eXBlb2YoYXJnKSAhPT0gJ3N0cmluZycpIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYSBzdHJpbmcgYXJndW1lbnQnKTtcblxuICAgIGlmIChyZWFsbG9jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgYnVmID0gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlKGFyZyk7XG4gICAgICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhidWYubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBidWYubGVuZ3RoKS5zZXQoYnVmKTtcbiAgICAgICAgV0FTTV9WRUNUT1JfTEVOID0gYnVmLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBsZXQgbGVuID0gYXJnLmxlbmd0aDtcbiAgICBsZXQgcHRyID0gbWFsbG9jKGxlbik7XG5cbiAgICBjb25zdCBtZW0gPSBnZXRVaW50OE1lbW9yeTAoKTtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICg7IG9mZnNldCA8IGxlbjsgb2Zmc2V0KyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGFyZy5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgIGlmIChjb2RlID4gMHg3RikgYnJlYWs7XG4gICAgICAgIG1lbVtwdHIgKyBvZmZzZXRdID0gY29kZTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0ICE9PSBsZW4pIHtcbiAgICAgICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcHRyID0gcmVhbGxvYyhwdHIsIGxlbiwgbGVuID0gb2Zmc2V0ICsgYXJnLmxlbmd0aCAqIDMpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyICsgb2Zmc2V0LCBwdHIgKyBsZW4pO1xuICAgICAgICBjb25zdCByZXQgPSBlbmNvZGVTdHJpbmcoYXJnLCB2aWV3KTtcbiAgICAgICAgaWYgKHJldC5yZWFkICE9PSBhcmcubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBwYXNzIHdob2xlIHN0cmluZycpO1xuICAgICAgICBvZmZzZXQgKz0gcmV0LndyaXR0ZW47XG4gICAgfVxuXG4gICAgV0FTTV9WRUNUT1JfTEVOID0gb2Zmc2V0O1xuICAgIHJldHVybiBwdHI7XG59XG5cbmZ1bmN0aW9uIHBhc3NBcnJheThUb1dhc20wKGFyZywgbWFsbG9jKSB7XG4gICAgY29uc3QgcHRyID0gbWFsbG9jKGFyZy5sZW5ndGggKiAxKTtcbiAgICBnZXRVaW50OE1lbW9yeTAoKS5zZXQoYXJnLCBwdHIgLyAxKTtcbiAgICBXQVNNX1ZFQ1RPUl9MRU4gPSBhcmcubGVuZ3RoO1xuICAgIHJldHVybiBwdHI7XG59XG5cbmxldCBjYWNoZWdldEludDMyTWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRJbnQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0SW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0SW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbmV3IEludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0SW50MzJNZW1vcnkwO1xufVxuLyoqXG4qIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4qIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YVxuKiBAcmV0dXJucyB7c3RyaW5nfVxuKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXNtX3JlZ2lzdGVyX2luZGV4KG5hbWUsIGRhdGEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXRwdHIgPSB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAudmFsdWUgLSAxNjtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLnZhbHVlID0gcmV0cHRyO1xuICAgICAgICB2YXIgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKG5hbWUsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHZhciBwdHIxID0gcGFzc0FycmF5OFRvV2FzbTAoZGF0YSwgd2FzbS5fX3diaW5kZ2VuX21hbGxvYyk7XG4gICAgICAgIHZhciBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB3YXNtLndhc21fcmVnaXN0ZXJfaW5kZXgocmV0cHRyLCBwdHIwLCBsZW4wLCBwdHIxLCBsZW4xKTtcbiAgICAgICAgdmFyIHIwID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDBdO1xuICAgICAgICB2YXIgcjEgPSBnZXRJbnQzMk1lbW9yeTAoKVtyZXRwdHIgLyA0ICsgMV07XG4gICAgICAgIHJldHVybiBnZXRTdHJpbmdGcm9tV2FzbTAocjAsIHIxKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZXhwb3J0XzAudmFsdWUgKz0gMTY7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHIwLCByMSk7XG4gICAgfVxufVxuXG4vKipcbiogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5XG4qIEByZXR1cm5zIHtzdHJpbmd9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHdhc21fc2VhcmNoKG5hbWUsIHF1ZXJ5KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmV0cHRyID0gd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLnZhbHVlIC0gMTY7XG4gICAgICAgIHdhc20uX193YmluZGdlbl9leHBvcnRfMC52YWx1ZSA9IHJldHB0cjtcbiAgICAgICAgdmFyIHB0cjAgPSBwYXNzU3RyaW5nVG9XYXNtMChuYW1lLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIHZhciBsZW4wID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB2YXIgcHRyMSA9IHBhc3NTdHJpbmdUb1dhc20wKHF1ZXJ5LCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIHZhciBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB3YXNtLndhc21fc2VhcmNoKHJldHB0ciwgcHRyMCwgbGVuMCwgcHRyMSwgbGVuMSk7XG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICByZXR1cm4gZ2V0U3RyaW5nRnJvbVdhc20wKHIwLCByMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2V4cG9ydF8wLnZhbHVlICs9IDE2O1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShyMCwgcjEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9nRXJyb3IoZikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvciA/IGAke2UubWVzc2FnZX1cXG5cXG5TdGFjazpcXG4ke2Uuc3RhY2t9YCA6IGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiPGZhaWxlZCB0byBzdHJpbmdpZnkgdGhyb3duIHZhbHVlPlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwid2FzbS1iaW5kZ2VuOiBpbXBvcnRlZCBKUyBmdW5jdGlvbiB0aGF0IHdhcyBub3QgbWFya2VkIGFzIGBjYXRjaGAgdGhyZXcgYW4gZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRIZWFwT2JqZWN0KG9iaikge1xuICAgIGlmIChoZWFwX25leHQgPT09IGhlYXAubGVuZ3RoKSBoZWFwLnB1c2goaGVhcC5sZW5ndGggKyAxKTtcbiAgICBjb25zdCBpZHggPSBoZWFwX25leHQ7XG4gICAgaGVhcF9uZXh0ID0gaGVhcFtpZHhdO1xuXG4gICAgaWYgKHR5cGVvZihoZWFwX25leHQpICE9PSAnbnVtYmVyJykgdGhyb3cgbmV3IEVycm9yKCdjb3JydXB0IGhlYXAnKTtcblxuICAgIGhlYXBbaWR4XSA9IG9iajtcbiAgICByZXR1cm4gaWR4O1xufVxuXG5hc3luYyBmdW5jdGlvbiBsb2FkKG1vZHVsZSwgaW1wb3J0cykge1xuICAgIGlmICh0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlIGluc3RhbmNlb2YgUmVzcG9uc2UpIHtcblxuICAgICAgICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhtb2R1bGUsIGltcG9ydHMpO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZHVsZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgIT0gJ2FwcGxpY2F0aW9uL3dhc20nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZ2AgZmFpbGVkIGJlY2F1c2UgeW91ciBzZXJ2ZXIgZG9lcyBub3Qgc2VydmUgd2FzbSB3aXRoIGBhcHBsaWNhdGlvbi93YXNtYCBNSU1FIHR5cGUuIEZhbGxpbmcgYmFjayB0byBgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVgIHdoaWNoIGlzIHNsb3dlci4gT3JpZ2luYWwgZXJyb3I6XFxuXCIsIGUpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IG1vZHVsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIGltcG9ydHMpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKG1vZHVsZSwgaW1wb3J0cyk7XG5cbiAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGluc3RhbmNlLCBtb2R1bGUgfTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBpbml0KGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaW5wdXQgPSAoeyB1cmw6IGdldEFic29sdXRlVXJsKCdub2RlX21vZHVsZXMvc3Rvcmstc2VhcmNoL3N0b3JrLmpzJykgfSkudXJsLnJlcGxhY2UoL1xcLmpzJC8sICdfYmcud2FzbScpO1xuICAgIH1cbiAgICBjb25zdCBpbXBvcnRzID0ge307XG4gICAgaW1wb3J0cy53YmcgPSB7fTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19lcnJvcl80YmI2YzJhOTc0MDcxMjlhID0gbG9nRXJyb3IoZnVuY3Rpb24oYXJnMCwgYXJnMSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUoYXJnMCwgYXJnMSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpbXBvcnRzLndiZy5fX3diZ19uZXdfNTljYjc0ZTQyMzc1OGVkZSA9IGxvZ0Vycm9yKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmV0ID0gbmV3IEVycm9yKCk7XG4gICAgICAgIHJldHVybiBhZGRIZWFwT2JqZWN0KHJldCk7XG4gICAgfSk7XG4gICAgaW1wb3J0cy53YmcuX193Ymdfc3RhY2tfNTU4YmE1OTE3YjQ2NmVkZCA9IGxvZ0Vycm9yKGZ1bmN0aW9uKGFyZzAsIGFyZzEpIHtcbiAgICAgICAgdmFyIHJldCA9IGdldE9iamVjdChhcmcxKS5zdGFjaztcbiAgICAgICAgdmFyIHB0cjAgPSBwYXNzU3RyaW5nVG9XYXNtMChyZXQsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIGdldEludDMyTWVtb3J5MCgpW2FyZzAgLyA0ICsgMV0gPSBsZW4wO1xuICAgICAgICBnZXRJbnQzMk1lbW9yeTAoKVthcmcwIC8gNCArIDBdID0gcHRyMDtcbiAgICB9KTtcbiAgICBpbXBvcnRzLndiZy5fX3diaW5kZ2VuX29iamVjdF9kcm9wX3JlZiA9IGZ1bmN0aW9uKGFyZzApIHtcbiAgICAgICAgdGFrZU9iamVjdChhcmcwKTtcbiAgICB9O1xuICAgIGltcG9ydHMud2JnLl9fd2JpbmRnZW5fdGhyb3cgPSBmdW5jdGlvbihhcmcwLCBhcmcxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRTdHJpbmdGcm9tV2FzbTAoYXJnMCwgYXJnMSkpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCAodHlwZW9mIFJlcXVlc3QgPT09ICdmdW5jdGlvbicgJiYgaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB8fCAodHlwZW9mIFVSTCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnB1dCBpbnN0YW5jZW9mIFVSTCkpIHtcbiAgICAgICAgaW5wdXQgPSBmZXRjaChpbnB1dCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnN0YW5jZSwgbW9kdWxlIH0gPSBhd2FpdCBsb2FkKGF3YWl0IGlucHV0LCBpbXBvcnRzKTtcblxuICAgIHdhc20gPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgIGluaXQuX193YmluZGdlbl93YXNtX21vZHVsZSA9IG1vZHVsZTtcblxuICAgIHJldHVybiB3YXNtO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpbml0O1xuXG4iLCJpbXBvcnQgeyB3YXNtX3NlYXJjaCB9IGZyb20gXCJzdG9yay1zZWFyY2hcIjtcblxuZXhwb3J0IGludGVyZmFjZSBIaWdobGlnaHRSYW5nZSB7XG4gIGJlZ2lubmluZzogbnVtYmVyO1xuICBlbmQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRyeSB7XG4gIGZpZWxkczogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4Y2VycHQge1xuICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBpbnRlcm5hbF9hbm5vdGF0aW9ucz86IEFycmF5PFJlY29yZDxzdHJpbmcsIHVua25vd24+PjtcbiAgaGlnaGxpZ2h0X3Jhbmdlcz86IEFycmF5PEhpZ2hsaWdodFJhbmdlPjtcbiAgc2NvcmU6IG51bWJlcjtcbiAgdGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdCB7XG4gIGVudHJ5OiBFbnRyeTtcbiAgZXhjZXJwdHM6IEFycmF5PEV4Y2VycHQ+O1xuICBzY29yZTogbnVtYmVyO1xuICB0aXRsZV9oaWdobGlnaHRfcmFuZ2VzPzogQXJyYXk8bnVtYmVyPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hEYXRhIHtcbiAgcmVzdWx0czogQXJyYXk8UmVzdWx0PjtcbiAgdG90YWxfaGl0X2NvdW50OiBudW1iZXI7XG4gIHVybF9wcmVmaXg6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVTZWFyY2gobmFtZTogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogU2VhcmNoRGF0YSB7XG4gIGxldCBzZWFyY2hPdXRwdXQgPSBudWxsO1xuICBsZXQgZGF0YSA9IG51bGw7XG5cbiAgdHJ5IHtcbiAgICBzZWFyY2hPdXRwdXQgPSB3YXNtX3NlYXJjaChuYW1lLCBxdWVyeSk7XG4gICAgLy8gSWYgd2FzbV9zZWFyY2ggcmV0dXJucyBhbiBlcnJvciwgaXQgd2lsbCByZXR1cm4gYSBKU09OIGJsb2IuIExvb2sgZm9yXG4gICAgLy8gZGF0YS5lcnJvciB0byBzZWUgaWYgdGhpcyBpcyB0aGUgY2FzZS5cbiAgICBkYXRhID0gSlNPTi5wYXJzZShzZWFyY2hPdXRwdXQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gRGF0YSBoYXMgY29tZSBiYWNrIGltcHJvcGVybHksIGV2ZW4gYmV5b25kIGFuIGVycm9yIGluIFJ1c3QtbGFuZC5cbiAgICAvLyBhbmFseXRpY3MubG9nKGUpXG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBwYXJzZSBkYXRhIGZyb20gd2FzbV9zZWFyY2guIElmIHlvdSBzZWUgdGhpcywgcGxlYXNlIGZpbGUgYSBidWc6IGh0dHBzOi8vamlsLmltL3N0b3JrYnVnIFwiICtcbiAgICAgICAgc2VhcmNoT3V0cHV0XG4gICAgKTtcbiAgfVxuXG4gIGlmICghZGF0YSkge1xuICAgIHRocm93IEVycm9yKFwiRGF0YSB3YXMgYW4gZW1wdHkgb2JqZWN0XCIpO1xuICB9XG5cbiAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICB0aHJvdyBFcnJvcihgQ291bGQgbm90IHBlcmZvcm0gc2VhcmNoOiB0aGUgV0FTTSBiaW5hcnkgZmFpbGVkIHRvIHJldHVybiBzZWFyY2ggcmVzdWx0cy5cbiAgICBZb3UgbWlnaHQgbm90IGJlIHNlcnZpbmcgeW91ciBzZWFyY2ggaW5kZXggcHJvcGVybHkuXG4gICAgSWYgeW91IHRoaW5rIHRoaXMgaXMgYW4gZXJyb3IsIHBsZWFzZSBmaWxlIGEgYnVnOiBodHRwczovL2ppbC5pbS9zdG9ya2J1Z1xuICAgIFxuICAgIFRoZSBXQVNNIGJpbmFyeSBjYW1lIGJhY2sgd2l0aDpcbiAgICAke2RhdGEuZXJyb3J9YCk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9jb25maWdcIjtcbmltcG9ydCB7IGNyZWF0ZVdhc21RdWV1ZSB9IGZyb20gXCIuL3dhc21Mb2FkZXJcIjtcbmltcG9ydCB7IEVudGl0eU1hbmFnZXIgfSBmcm9tIFwiLi9lbnRpdHlNYW5hZ2VyXCI7XG5pbXBvcnQgV2FzbVF1ZXVlIGZyb20gXCIuL3dhc21RdWV1ZVwiO1xuaW1wb3J0IHsgcmVzb2x2ZVNlYXJjaCwgU2VhcmNoRGF0YSB9IGZyb20gXCIuL3NlYXJjaERhdGFcIjtcblxuY2xhc3MgU3RvcmtFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gXCJTdG9ya0Vycm9yXCI7XG4gIH1cbn1cblxubGV0IHdhc21RdWV1ZTogV2FzbVF1ZXVlIHwgbnVsbCA9IG51bGw7XG5sZXQgZW50aXR5TWFuYWdlcjogRW50aXR5TWFuYWdlciB8IG51bGwgPSBudWxsO1xuXG5mdW5jdGlvbiBpbml0aWFsaXplKHdhc21PdmVycmlkZVVybDogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIGlmICghd2FzbVF1ZXVlKSB7XG4gICAgICB3YXNtUXVldWUgPSBjcmVhdGVXYXNtUXVldWUod2FzbU92ZXJyaWRlVXJsKTtcblxuICAgICAgd2FzbVF1ZXVlLnJ1bkFmdGVyV2FzbUxvYWRlZCgoKSA9PiB7XG4gICAgICAgIHJlcygpO1xuICAgICAgfSk7XG5cbiAgICAgIHdhc21RdWV1ZS5ydW5Pbldhc21Mb2FkRmFpbHVyZShlID0+IHtcbiAgICAgICAgcmVqKGUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh3YXNtUXVldWUuc3RhdGUgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgIHJlaigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkb3dubG9hZEluZGV4KG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcsIGNvbmZpZyA9IHt9KTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICBsZXQgbWVzc2FnZSA9IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIG5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1lc3NhZ2UgPSBcIkluZGV4IHJlZ2lzdHJhdGlvbiBuYW1lIG11c3QgYmUgYSBzdHJpbmcuXCI7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1lc3NhZ2UgPSBcIlVSTCBtdXN0IGJlIGEgc3RyaW5nLlwiO1xuICAgIH1cblxuICAgIGlmICghd2FzbVF1ZXVlKSB7XG4gICAgICBtZXNzYWdlID1cbiAgICAgICAgXCJNYWtlIHN1cmUgdG8gY2FsbCBzdG9yay5pbml0aWFsaXplKCkgYmVmb3JlIGNhbGxpbmcgc3RvcmsuZG93bmxvYWRJbmRleCgpXCI7XG4gICAgfVxuXG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IFN0b3JrRXJyb3IobWVzc2FnZSk7XG4gICAgICByZWooZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZW50aXR5TWFuYWdlcikge1xuICAgICAgZW50aXR5TWFuYWdlciA9IG5ldyBFbnRpdHlNYW5hZ2VyKDxXYXNtUXVldWU+d2FzbVF1ZXVlKTtcbiAgICB9XG5cbiAgICBlbnRpdHlNYW5hZ2VyLnJlZ2lzdGVyKG5hbWUsIHVybCwgY29uZmlnKS50aGVuKHJlcykuY2F0Y2gocmVqKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgaWYgKCFlbnRpdHlNYW5hZ2VyKSB7XG4gICAgdGhyb3cgbmV3IFN0b3JrRXJyb3IoXG4gICAgICBcIk1ha2Ugc3VyZSB0byBjYWxsIHN0b3JrLmRvd25sb2FkSW5kZXgoKSBzdWNjZXNzZnVsbHkgYmVmb3JlIGNhbGxpbmcgc3RvcmsuYXR0YWNoKClcIlxuICAgICk7XG4gIH1cblxuICB0cnkge1xuICAgIGVudGl0eU1hbmFnZXIuYXR0YWNoVG9Eb20obmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgU3RvcmtFcnJvcihlLm1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKFxuICBuYW1lOiBzdHJpbmcsXG4gIHVybDogc3RyaW5nLFxuICBjb25maWc6IFBhcnRpYWw8Q29uZmlndXJhdGlvbj5cbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBpbml0UHJvbWlzZSA9IGluaXRpYWxpemUoKTtcbiAgY29uc3QgZG9ud2xvYWRQcm9taXNlID0gZG93bmxvYWRJbmRleChuYW1lLCB1cmwsIGNvbmZpZyk7XG4gIGF0dGFjaChuYW1lKTtcblxuICAvLyBUaGlzIHNpbGx5IHRoZW4gYmxvY2sgdHVybnMgYSBbKHZvaWQpLCAodm9pZCldIGludG8gYSAodm9pZCksIHdoaWNoIGlzXG4gIC8vIG9ubHkgbmVjZXNzYXJ5IHRvIG1ha2UgVHlwZXNjcmlwdCBoYXBweS5cbiAgLy8gWW91IGJlZ2luIHRvIHdvbmRlciBpZiB5b3Ugd3JpdGUgVHlwZXNjcmlwdCBjb2RlLCBvciBpZiBUeXBlc2NyaXB0IGNvZGUgd3JpdGVzIHlvdS5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtpbml0UHJvbWlzZSwgZG9ud2xvYWRQcm9taXNlXSkudGhlbigpO1xufVxuXG5mdW5jdGlvbiBzZWFyY2gobmFtZTogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogU2VhcmNoRGF0YSB7XG4gIGlmICghbmFtZSB8fCAhcXVlcnkpIHtcbiAgICB0aHJvdyBuZXcgU3RvcmtFcnJvcihcbiAgICAgIFwiTWFrZSBzdXJlIHRvIGNhbGwgc3Rvcmsuc2VhcmNoKCkgd2l0aCB0d28gYXJndW1lbnRzOiB0aGUgaW5kZXggbmFtZSBhbmQgdGhlIHNlYXJjaCBxdWVyeS5cIlxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgIWVudGl0eU1hbmFnZXIgfHxcbiAgICAhZW50aXR5TWFuYWdlci5lbnRpdGllc1tuYW1lXSB8fFxuICAgIGVudGl0eU1hbmFnZXIuZW50aXRpZXNbbmFtZV0ucHJvZ3Jlc3MgPCAxXG4gICkge1xuICAgIHRocm93IG5ldyBTdG9ya0Vycm9yKFxuICAgICAgXCJDb3VsZG4ndCBmaW5kIGluZGV4LiBNYWtlIHN1cmUgdGhlIHN0b3JrLmRvd25sb2FkSW5kZXgoKSBwcm9taXNlIGhhcyByZXNvbHZlZCBiZWZvcmUgY2FsbGluZyBzdG9yay5zZWFyY2goKS5cIlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gcmVzb2x2ZVNlYXJjaChuYW1lLCBxdWVyeSk7XG59XG5cbmV4cG9ydCB7IGluaXRpYWxpemUsIGRvd25sb2FkSW5kZXgsIGF0dGFjaCwgc2VhcmNoLCByZWdpc3RlciB9O1xuIiwiaW1wb3J0IGluaXQgZnJvbSBcInN0b3JrLXNlYXJjaFwiO1xuaW1wb3J0IFdhc21RdWV1ZSBmcm9tIFwiLi93YXNtUXVldWVcIjtcblxuLy8gY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlZFUlNJT047XG5jb25zdCB2ZXJzaW9uID0gbnVsbDtcbmNvbnN0IERFRkFVTFRfV0FTTV9VUkwgPSB2ZXJzaW9uXG4gID8gYGh0dHBzOi8vZmlsZXMuc3Rvcmstc2VhcmNoLm5ldC9zdG9yay0ke3ZlcnNpb259Lndhc21gXG4gIDogYGh0dHBzOi8vZmlsZXMuc3Rvcmstc2VhcmNoLm5ldC9zdG9yay53YXNtYDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVdhc21RdWV1ZSh3YXNtT3ZlcnJpZGVVcmw6IHN0cmluZyB8IG51bGwpOiBXYXNtUXVldWUge1xuICBjb25zdCB3YXNtVXJsID0gd2FzbU92ZXJyaWRlVXJsIHx8IERFRkFVTFRfV0FTTV9VUkw7XG4gIGNvbnN0IHF1ZXVlID0gbmV3IFdhc21RdWV1ZSgpO1xuICBpbml0KHdhc21VcmwpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgcXVldWUubG9hZGVkID0gdHJ1ZTtcbiAgICAgIHF1ZXVlLmhhbmRsZVdhc21Mb2FkKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goZSA9PiB7XG4gICAgICBxdWV1ZS5oYW5kbGVXYXNtRmFpbHVyZShlKTtcbiAgICB9KTtcbiAgcmV0dXJuIHF1ZXVlO1xufVxuIiwidHlwZSBXYXNtUXVldWVTdGF0ZSA9IFwicXVldWVpbmdcIiB8IFwibG9hZGVkXCIgfCBcImZhaWxlZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYXNtUXVldWUge1xuICBzdGF0ZTogV2FzbVF1ZXVlU3RhdGUgPSBcInF1ZXVlaW5nXCI7XG4gIGxvYWRlZCA9IGZhbHNlO1xuICBxdWV1ZTogeyAoKTogdm9pZCB9W10gPSBbXTtcbiAgZmFpbHVyZU1ldGhvZDogeyAoZTogRXJyb3IpOiB2b2lkIH07XG5cbiAgLyoqXG4gICAqIENhbGxlciBzaG91bGQgdXNlIHRoaXMgdG8gcXVldWUgdXAgYSBmdW5jdGlvbiB0byBiZSBydW4gb25seSB3aGVuIHRoZVxuICAgKiBXQVNNIGlzIGxvYWRlZC4gSWYgdGhlIFdBU00gaXMgYWxyZWFkeSBsb2FkZWQgd2hlbiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQsXG4gICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJ1biBpbW1lZGlhdGVseS5cbiAgICpcbiAgICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIHJ1biBvbmNlIFdBU00gaXMgbG9hZGVkXG4gICAqL1xuICBydW5BZnRlcldhc21Mb2FkZWQoZm46IHsgKCk6IHZvaWQ7ICgpOiB2b2lkIH0pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2FkZWQpIHtcbiAgICAgIGZuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlciBzaG91bGQgdXNlIHRoaXMgdG8gcmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBydW4gb25seSB3aGVuIHRoZSBXQVNNXG4gICAqIGZhaWxzIHRvIGxvYWQuIFVubGlrZSB0aGUgaGFwcHktcGF0aCBmdW5jdGlvbiwgY2FsbGluZyB0aGlzIHdpbGwgb3ZlcndyaXRlXG4gICAqIGFueSBleGlzdGluZyBlcnJvciBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZm4gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBXQVNNIGZhaWxzIHRvIGxvYWQuIFRoZSBmdW5jdGlvblxuICAgKiBzaG91bGQgdGFrZSBhbiBvcHRpb25hbCBFcnJvciBwYXJhbWV0ZXIuXG4gICAqL1xuICBydW5Pbldhc21Mb2FkRmFpbHVyZShmbjogeyAoZTogRXJyb3IgfCBudWxsKTogdm9pZCB9KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IFwiZmFpbGVkXCIpIHtcbiAgICAgIGZuKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZhaWx1cmVNZXRob2QgPSBmbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV0FTTSBsb2FkZXIgc2hvdWxkIHVzZSB0aGlzIHRvIHNpZ25hbCB0byB0aGUgcXVldWUgdGhhdCB0aGUgV0FTTSBoYXMgYmVlblxuICAgKiBsb2FkZWQuXG4gICAqL1xuICBoYW5kbGVXYXNtTG9hZCgpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMucXVldWUpIHtcbiAgICAgIGZuKCk7XG4gICAgfVxuXG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFdBU00gbG9hZGVyIHNob3VsZCB1c2UgdGhpcyB0byBzaWduYWwgdG8gdGhlIHF1ZXVlIHRoYXQgbG9hZGluZyB0aGUgV0FTTVxuICAgKiBoYXMgZmFpbGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZSBUaGUgZXJyb3IgdGhhdCB3YXMgcmVjaWV2ZWQgd2hpbGUgbG9hZGluZyB0aGUgV0FTTS5cbiAgICovXG4gIGhhbmRsZVdhc21GYWlsdXJlKGU6IEVycm9yKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZmFpbHVyZU1ldGhvZCkgdGhpcy5mYWlsdXJlTWV0aG9kKGUpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcbmltcG9ydCB7XG4gIENvbmZpZ3VyYXRpb24sXG4gIGNhbGN1bGF0ZU92ZXJyaWRkZW5Db25maWcsXG4gIGRlZmF1bHRDb25maWdcbn0gZnJvbSBcIi4vY29uZmlnXCI7XG5pbXBvcnQgeyBsb2FkSW5kZXhGcm9tVXJsIH0gZnJvbSBcIi4vaW5kZXhMb2FkZXJcIjtcbmltcG9ydCB7IHdhc21fcmVnaXN0ZXJfaW5kZXggYXMgd2FzbVJlZ2lzdGVySW5kZXggfSBmcm9tIFwic3Rvcmstc2VhcmNoXCI7XG5pbXBvcnQgV2FzbVF1ZXVlIGZyb20gXCIuL3dhc21RdWV1ZVwiO1xuXG5leHBvcnQgY2xhc3MgRW50aXR5TWFuYWdlciB7XG4gIGVudGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHk+ID0ge307XG4gIHdhc21RdWV1ZTogV2FzbVF1ZXVlO1xuXG4gIGNvbnN0cnVjdG9yKHdhc21RdWV1ZTogV2FzbVF1ZXVlKSB7XG4gICAgdGhpcy53YXNtUXVldWUgPSB3YXNtUXVldWU7XG4gIH1cblxuICBoYW5kbGVMb2FkZWRJbmRleChlbnRpdHk6IEVudGl0eSwgZXZlbnQ6IEV2ZW50KTogdm9pZCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCB7IHN0YXR1cywgcmVzcG9uc2UgfSA9IChldmVudCBhcyBQcm9ncmVzc0V2ZW50PFxuICAgICAgWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFxuICAgID4pLnRhcmdldDtcblxuICAgIGlmIChzdGF0dXMgPCAyMDAgfHwgc3RhdHVzID4gMjk5KSB7XG4gICAgICBlbnRpdHkuc2V0RG93bmxvYWRFcnJvcigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgYSAke3N0YXR1c30gZXJyb3IgZnJvbSAke2VudGl0eS51cmx9IWApO1xuICAgIH1cblxuICAgIGlmICghdGhpcy53YXNtUXVldWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludGVybmFsIEVycm9yIC0gdGhpcy53YXNtUXVldWUgZG9lc24ndCBleGlzdFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLndhc21RdWV1ZS5ydW5BZnRlcldhc21Mb2FkZWQoKCkgPT4ge1xuICAgICAgaWYgKCFlbnRpdHkuZXJyb3IpIHtcbiAgICAgICAgY29uc3QgaW5kZXhJbmZvID0gd2FzbVJlZ2lzdGVySW5kZXgoXG4gICAgICAgICAgZW50aXR5Lm5hbWUsXG4gICAgICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UpXG4gICAgICAgICk7XG5cbiAgICAgICAgZW50aXR5LnNldERvd25sb2FkUHJvZ3Jlc3MoMSk7XG5cbiAgICAgICAgaWYgKGVudGl0eS5jb25maWcucHJpbnRJbmRleEluZm8pIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGNvbnNvbGUubG9nKHtcbiAgICAgICAgICAgIG5hbWU6IGVudGl0eS5uYW1lLFxuICAgICAgICAgICAgc2l6ZUluQnl0ZXM6IHJlc3BvbnNlLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAuLi5KU09OLnBhcnNlKGluZGV4SW5mbylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBjb25maWc6IFBhcnRpYWw8Q29uZmlndXJhdGlvbj5cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgbGV0IGZ1bGxDb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnVsbENvbmZpZyA9IGNhbGN1bGF0ZU92ZXJyaWRkZW5Db25maWcoY29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlaihlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW50aXRpZXNbbmFtZV0pIHtcbiAgICAgICAgLy8gVE9ETzogQWRkIGEgY29uZmlnIG9wdGlvbiB0byB0dXJuIHRoaXMgb2ZmLCBpZiBvdmVyd3JpdGluZyBhbiBpbmRleFxuICAgICAgICAvLyBpcyBleHBlY3RlZCBiZWhhdmlvciBmb3IgeW91XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgU2VhcmNoIGluZGV4IHdpdGggbmFtZSAke25hbWV9IGFscmVhZHkgZXhpc3RzISBPdmVyd3JpdGluZy5gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy53YXNtUXVldWUpIHtcbiAgICAgICAgcmVqKG5ldyBFcnJvcihcIkludGVybmFsIFN0b3JrIGVycm9yXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlbnRpdHkgPSBuZXcgRW50aXR5KG5hbWUsIHVybCwgZnVsbENvbmZpZywgdGhpcy53YXNtUXVldWUpO1xuICAgICAgdGhpcy5lbnRpdGllc1tuYW1lXSA9IGVudGl0eTtcblxuICAgICAgbG9hZEluZGV4RnJvbVVybChlbnRpdHksIHVybCwge1xuICAgICAgICBsb2FkOiBlID0+IHRoaXMuaGFuZGxlTG9hZGVkSW5kZXgoZW50aXR5LCBlKSxcbiAgICAgICAgcHJvZ3Jlc3M6IChwcm9ncmVzcywgZW50aXR5KSA9PiB7XG4gICAgICAgICAgZW50aXR5LnNldERvd25sb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKCkgPT4ge1xuICAgICAgICAgIGVudGl0eS5zZXREb3dubG9hZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGF0dGFjaFRvRG9tKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbnRpdGllc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleCAke25hbWV9IGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIWApO1xuICAgIH1cblxuICAgIHRoaXMuZW50aXRpZXNbbmFtZV0uYXR0YWNoVG9Eb20oKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IHsgUmVzdWx0LCBTZWFyY2hEYXRhLCByZXNvbHZlU2VhcmNoIH0gZnJvbSBcIi4vc2VhcmNoRGF0YVwiO1xuaW1wb3J0IFdhc21RdWV1ZSBmcm9tIFwiLi93YXNtUXVldWVcIjtcbmltcG9ydCB7IEVudGl0eURvbSwgUmVuZGVyU3RhdGUgfSBmcm9tIFwiLi9lbnRpdHlEb21cIjtcblxuZXhwb3J0IGNsYXNzIEVudGl0eSB7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvbmZpZzogQ29uZmlndXJhdGlvbjtcbiAgcmVhZG9ubHkgd2FzbVF1ZXVlOiBXYXNtUXVldWU7XG5cbiAgZG9tTWFuYWdlcjogRW50aXR5RG9tIHwgbnVsbDtcbiAgZXZlbnRMaXN0ZW5lckZ1bmN0aW9uczogUmVjb3JkPHN0cmluZywgKGU6IEV2ZW50KSA9PiB2b2lkPiA9IHt9O1xuICBpbmRleDogVWludDhBcnJheTtcbiAgcmVzdWx0czogQXJyYXk8UmVzdWx0PiA9IFtdO1xuICBoaWdobGlnaHRlZFJlc3VsdCA9IDA7XG4gIHByb2dyZXNzID0gMDtcbiAgZXJyb3IgPSBmYWxzZTtcbiAgdG90YWxSZXN1bHRDb3VudCA9IDA7XG4gIHJlc3VsdHNWaXNpYmxlID0gZmFsc2U7XG4gIGhvdmVyU2VsZWN0RW5hYmxlZCA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGNvbmZpZzogQ29uZmlndXJhdGlvbixcbiAgICB3YXNtUXVldWU6IFdhc21RdWV1ZVxuICApIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMud2FzbVF1ZXVlID0gd2FzbVF1ZXVlO1xuICB9XG5cbiAgYXR0YWNoVG9Eb20oKTogdm9pZCB7XG4gICAgdGhpcy5kb21NYW5hZ2VyID0gbmV3IEVudGl0eURvbSh0aGlzLm5hbWUsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDdXJyZW50TWVzc2FnZSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoIXRoaXMuZG9tTWFuYWdlcikgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLmRvbU1hbmFnZXIuZ2V0UXVlcnkoKTtcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuIFwiRXJyb3IhIENoZWNrIHRoZSBicm93c2VyIGNvbnNvbGUuXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb2dyZXNzIDwgMSB8fCAhdGhpcy53YXNtUXVldWUubG9hZGVkKSB7XG4gICAgICByZXR1cm4gXCJMb2FkaW5nLi4uXCI7XG4gICAgfSBlbHNlIGlmIChxdWVyeT8ubGVuZ3RoIDwgdGhpcy5jb25maWcubWluaW11bVF1ZXJ5TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gXCJGaWx0ZXJpbmcuLi5cIjtcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVzdWx0cykge1xuICAgICAgaWYgKHRoaXMudG90YWxSZXN1bHRDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gXCJObyBmaWxlcyBmb3VuZC5cIjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFJlc3VsdENvdW50ID09PSAxKSB7XG4gICAgICAgIHJldHVybiBcIjEgZmlsZSBmb3VuZC5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRvdGFsUmVzdWx0Q291bnR9IGZpbGVzIGZvdW5kLmA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlUmVuZGVyQ29uZmlnKCk6IFJlbmRlclN0YXRlIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0czogdGhpcy5yZXN1bHRzLFxuICAgICAgcmVzdWx0c1Zpc2libGU6IHRydWUsXG4gICAgICBzaG93U2NvcmVzOiB0aGlzLmNvbmZpZy5zaG93U2NvcmVzLFxuICAgICAgbWVzc2FnZTogdGhpcy5nZXRDdXJyZW50TWVzc2FnZSgpLFxuICAgICAgc2hvd1Byb2dyZXNzOiB0aGlzLmNvbmZpZy5zaG93UHJvZ3Jlc3MsXG4gICAgICBwcm9ncmVzczogdGhpcy5wcm9ncmVzcyxcbiAgICAgIGVycm9yOiB0aGlzLmVycm9yXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5kb21NYW5hZ2VyKSByZXR1cm47XG4gICAgdGhpcy5kb21NYW5hZ2VyLnJlbmRlcih0aGlzLmdlbmVyYXRlUmVuZGVyQ29uZmlnKCkpO1xuICB9XG5cbiAgaW5qZXN0U2VhcmNoRGF0YShkYXRhOiBTZWFyY2hEYXRhKTogdm9pZCB7XG4gICAgdGhpcy5yZXN1bHRzID0gZGF0YS5yZXN1bHRzO1xuICAgIHRoaXMudG90YWxSZXN1bHRDb3VudCA9IGRhdGEudG90YWxfaGl0X2NvdW50O1xuICAgIHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgPSAwO1xuXG4gICAgLy8gTXV0YXRlIHRoZSByZXN1bHQgVVJMLCBsaWtlIHdlIGRvIHdoZW4gdGhlcmUncyBhIHVybCBwcmVmaXggb3Igc3VmZml4XG4gICAgY29uc3QgdXJsUHJlZml4ID0gZGF0YS51cmxfcHJlZml4IHx8IFwiXCI7XG4gICAgdGhpcy5yZXN1bHRzLm1hcChyID0+IHtcbiAgICAgIGxldCB1cmxTdWZmaXggPSBcIlwiO1xuXG4gICAgICAvLyBvb2ZcbiAgICAgIGlmIChcbiAgICAgICAgci5leGNlcnB0cyAmJlxuICAgICAgICByLmV4Y2VycHRzWzBdICYmXG4gICAgICAgIHIuZXhjZXJwdHNbMF0uaW50ZXJuYWxfYW5ub3RhdGlvbnMgJiZcbiAgICAgICAgci5leGNlcnB0c1swXS5pbnRlcm5hbF9hbm5vdGF0aW9uc1swXSAmJlxuICAgICAgICByLmV4Y2VycHRzWzBdLmludGVybmFsX2Fubm90YXRpb25zWzBdW1wiYVwiXSAmJlxuICAgICAgICB0eXBlb2Ygci5leGNlcnB0c1swXS5pbnRlcm5hbF9hbm5vdGF0aW9uc1swXVtcImFcIl0gPT09IFwic3RyaW5nXCJcbiAgICAgICkge1xuICAgICAgICB1cmxTdWZmaXggPSByLmV4Y2VycHRzWzBdLmludGVybmFsX2Fubm90YXRpb25zWzBdW1wiYVwiXTtcbiAgICAgIH1cbiAgICAgIHIuZW50cnkudXJsID0gYCR7dXJsUHJlZml4fSR7ci5lbnRyeS51cmx9JHt1cmxTdWZmaXh9YDtcbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBwcml2YXRlIGdldFNhbml0aXplZFJlc3VsdHMoKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHRoaXMucmVzdWx0cztcbiAgICByZXN1bHRzLm1hcChyZXN1bHQgPT4ge1xuICAgICAgZGVsZXRlIHJlc3VsdC50aXRsZV9oaWdobGlnaHRfcmFuZ2VzO1xuICAgICAgcmVzdWx0LmV4Y2VycHRzLm1hcChleGNlcnB0ID0+IHtcbiAgICAgICAgZGVsZXRlIGV4Y2VycHQuaGlnaGxpZ2h0X3JhbmdlcztcbiAgICAgICAgZGVsZXRlIGV4Y2VycHQuaW50ZXJuYWxfYW5ub3RhdGlvbnM7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIHNldERvd25sb2FkUHJvZ3Jlc3MocGVyY2VudGFnZTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBwZXJjZW50YWdlO1xuICAgIGlmICh0aGlzLmNvbmZpZy5zaG93UHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RG93bmxvYWRFcnJvcigpOiB2b2lkIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMTtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcGVyZm9ybVNlYXJjaChxdWVyeTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLndhc21RdWV1ZS5sb2FkZWQgfHwgdGhpcy5lcnJvcikge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocXVlcnkubGVuZ3RoID49IHRoaXMuY29uZmlnLm1pbmltdW1RdWVyeUxlbmd0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHJlc29sdmVTZWFyY2godGhpcy5uYW1lLCBxdWVyeSk7XG4gICAgICAgIC8vIC50aGVuKChkYXRhOiBTZWFyY2hEYXRhKSA9PiB7XG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJERVZFTE9QTUVOVDpcIiwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluamVzdFNlYXJjaERhdGEoZGF0YSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLm9uUXVlcnlVcGRhdGUpIHtcbiAgICAgICAgICB0aGlzLmNvbmZpZy5vblF1ZXJ5VXBkYXRlKHF1ZXJ5LCB0aGlzLmdldFNhbml0aXplZFJlc3VsdHMoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlc3VsdHMgPSBbXTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBSZXN1bHQgfSBmcm9tIFwiLi9zZWFyY2hEYXRhXCI7XG5cbmltcG9ydCB7XG4gIGNyZWF0ZSxcbiAgYWRkLFxuICBjbGVhcixcbiAgc2V0VGV4dCxcbiAgZXhpc3RzQmV5b25kQ29udGFpbmVyQm91bmRzXG59IGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vZW50aXR5XCI7XG5pbXBvcnQgeyBMaXN0SXRlbURpc3BsYXlPcHRpb25zLCByZXN1bHRUb0xpc3RJdGVtIH0gZnJvbSBcIi4vcmVzdWx0VG9MaXN0SXRlbVwiO1xuXG5pbnRlcmZhY2UgRWxlbWVudE1hcCB7XG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50O1xuICBvdXRwdXQ6IEhUTUxEaXZFbGVtZW50O1xuICBwcm9ncmVzczogSFRNTEVsZW1lbnQ7XG4gIGxpc3Q6IEhUTUxFbGVtZW50O1xuICBtZXNzYWdlOiBIVE1MRWxlbWVudDtcbiAgYXR0cmlidXRpb246IEhUTUxFbGVtZW50O1xuICBjbG9zZUJ1dHRvbjogSFRNTEVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyU3RhdGUge1xuICByZXN1bHRzOiBBcnJheTxSZXN1bHQ+O1xuICByZXN1bHRzVmlzaWJsZTogYm9vbGVhbjtcbiAgc2hvd1Njb3JlczogYm9vbGVhbjtcbiAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgc2hvd1Byb2dyZXNzOiBib29sZWFuO1xuICBwcm9ncmVzczogbnVtYmVyIHwgbnVsbDtcbiAgZXJyb3I6IGJvb2xlYW47XG59XG5cbmNvbnN0IGhpZGRlbkludGVyZmFjZVJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZSA9IHtcbiAgcmVzdWx0czogW10sXG4gIHJlc3VsdHNWaXNpYmxlOiBmYWxzZSxcbiAgc2hvd1Njb3JlczogZmFsc2UsXG4gIG1lc3NhZ2U6IG51bGwsXG4gIHNob3dQcm9ncmVzczogZmFsc2UsXG4gIHByb2dyZXNzOiAxLFxuICBlcnJvcjogZmFsc2Vcbn07XG5cbmV4cG9ydCBjbGFzcyBFbnRpdHlEb20ge1xuICByZWFkb25seSBlbGVtZW50czogRWxlbWVudE1hcDtcbiAgcmVhZG9ubHkgZW50aXR5OiBFbnRpdHk7XG5cbiAgaGlnaGxpZ2h0ZWRSZXN1bHQ/OiBudW1iZXI7XG4gIGhvdmVyU2VsZWN0RW5hYmxlZDogYm9vbGVhbjtcbiAgbGFzdFJlbmRlclN0YXRlOiBSZW5kZXJTdGF0ZTtcblxuICBzY3JvbGxBbmNob3JQb2ludDogXCJzdGFydFwiIHwgXCJlbmRcIiA9IFwiZW5kXCI7XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBlbnRpdHk6IEVudGl0eSkge1xuICAgIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gICAgY29uc3QgZGF0YSA9IFtcbiAgICAgIHtcbiAgICAgICAgc2VsZWN0b3I6IGBpbnB1dFtkYXRhLXN0b3JrPVwiJHtuYW1lfVwiXWAsXG4gICAgICAgIGVsZW1lbnROYW1lOiBcImlucHV0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNlbGVjdG9yOiBgZGl2W2RhdGEtc3Rvcms9XCIke25hbWV9LW91dHB1dFwiXWAsXG4gICAgICAgIGVsZW1lbnROYW1lOiBcIm91dHB1dFwiXG4gICAgICB9XG4gICAgXTtcblxuICAgIGNvbnN0IFtpbnB1dCwgb3V0cHV0XSA9IGRhdGEubWFwKGQgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZC5zZWxlY3Rvcik7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDb3VsZCBub3QgcmVnaXN0ZXIgc2VhcmNoIGJveCBcIiR7bmFtZX1cIjogJHtkLmVsZW1lbnROYW1lfSBlbGVtZW50IG5vdCBmb3VuZC4gTWFrZSBzdXJlIGFuIGVsZW1lbnQgbWF0Y2hlcyB0aGUgcXVlcnkgc2VsZWN0b3IgXFxgJHtkLnNlbGVjdG9yfVxcYGBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSkgYXMgW0hUTUxJbnB1dEVsZW1lbnQsIEhUTUxEaXZFbGVtZW50XTtcblxuICAgIHRoaXMuZWxlbWVudHMgPSB7XG4gICAgICBpbnB1dDogaW5wdXQsXG4gICAgICBvdXRwdXQ6IG91dHB1dCxcbiAgICAgIGxpc3Q6IGNyZWF0ZShcInVsXCIsIHsgY2xhc3NOYW1lczogW1wic3RvcmstcmVzdWx0c1wiXSB9KSxcbiAgICAgIGF0dHJpYnV0aW9uOiBjcmVhdGUoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWVzOiBbXCJzdG9yay1hdHRyaWJ1dGlvblwiXVxuICAgICAgfSksXG4gICAgICBwcm9ncmVzczogY3JlYXRlKFwiZGl2XCIsIHsgY2xhc3NOYW1lczogW1wic3RvcmstcHJvZ3Jlc3NcIl0gfSksXG4gICAgICBtZXNzYWdlOiBjcmVhdGUoXCJkaXZcIiwgeyBjbGFzc05hbWVzOiBbXCJzdG9yay1tZXNzYWdlXCJdIH0pLFxuICAgICAgY2xvc2VCdXR0b246IGNyZWF0ZShcImJ1dHRvblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZXM6IFtcInN0b3JrLWNsb3NlLWJ1dHRvblwiXVxuICAgICAgfSlcbiAgICB9O1xuXG4gICAgLy8gRmlyc3QsIHJlbW92ZSBzYXZlZCBldmVudCBsaXN0ZW5lciBmdW5jdGlvbnMgZnJvbSB0aGUgZWxlbWVudCwgaWYgdGhleSBleGlzdC5cbiAgICAvLyBUaGlzIG1ha2VzIHRoZSBFbnRpdHlEb20gY29uc3RydWN0b3Igc2FmZSB0byBjYWxsIG11bHRpcGxlIHRpbWVzLCBldmVuIGlmXG4gICAgLy8gdGhlIGVsZW1lbnRzIG9uIHRoZSBwYWdlIGhhdmVuJ3QgY2hhbmdlZC5cbiAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImlucHV0XCIsXG4gICAgICB0aGlzLmVudGl0eS5ldmVudExpc3RlbmVyRnVuY3Rpb25zLmlucHV0SW5wdXRFdmVudFxuICAgICk7XG5cbiAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImtleWRvd25cIixcbiAgICAgIHRoaXMuZW50aXR5LmV2ZW50TGlzdGVuZXJGdW5jdGlvbnMuaW5wdXRLZXlkb3duRXZlbnRcbiAgICApO1xuXG4gICAgLy8gVGhlbiwgc2F2ZSBuZXcgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIHRoZSBlbnRpdHkgc28gdGhhdCB3ZSBjYW5cbiAgICAvLyBkZWxldGUgdGhvc2UgbGlzdGVuZXJzIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudHMgd2hlbiB0aGVcbiAgICAvLyBFbnRpdHlEb20gb2JqZWN0IGlzIHJlY3JlYXRlZC5cbiAgICB0aGlzLmVudGl0eS5ldmVudExpc3RlbmVyRnVuY3Rpb25zID0ge1xuICAgICAgaW5wdXRJbnB1dEV2ZW50OiAoZTogSW5wdXRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUlucHV0RXZlbnQoZSBhcyBJbnB1dEV2ZW50KTtcbiAgICAgIH0sXG5cbiAgICAgIGlucHV0S2V5ZG93bkV2ZW50OiAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZUtleURvd25FdmVudChlIGFzIEtleWJvYXJkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBUaGVuLCBhZGQgdGhvc2UgbmV3bHkgc2F2ZWQgZnVuY3Rpb25zIGFzIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgZWxlbWVudHMuXG4gICAgdGhpcy5lbGVtZW50cy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgdGhpcy5lbnRpdHkuZXZlbnRMaXN0ZW5lckZ1bmN0aW9ucy5pbnB1dElucHV0RXZlbnRcbiAgICApO1xuXG4gICAgdGhpcy5lbGVtZW50cy5pbnB1dC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXlkb3duXCIsXG4gICAgICB0aGlzLmVudGl0eS5ldmVudExpc3RlbmVyRnVuY3Rpb25zLmlucHV0S2V5ZG93bkV2ZW50XG4gICAgKTtcblxuICAgIC8vIFdlIGRpZG4ndCBoYXZlIHRvIGRvIHRoZSByZW1vdmUvYWRkIGRhbmNlIHdpdGggdGhpcyBvbmUgYmVjYXVzZVxuICAgIC8vIHRoaXMgbGlzdGVuZXIgYmVoYXZpb3IgaXMgYWxyZWFkeSBpZGVtcG90ZW50LlxuICAgIHRoaXMuZWxlbWVudHMubGlzdD8uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmhvdmVyU2VsZWN0RW5hYmxlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnRzLmF0dHJpYnV0aW9uLmlubmVySFRNTCA9XG4gICAgICAnUG93ZXJlZCBieSA8YSBocmVmPVwiaHR0cHM6Ly9zdG9yay1zZWFyY2gubmV0XCI+U3Rvcms8L2E+JztcblxuICAgIHNldFRleHQodGhpcy5lbGVtZW50cy5jbG9zZUJ1dHRvbiwgXCLDl1wiKTtcblxuICAgIGFkZCh0aGlzLmVsZW1lbnRzLnByb2dyZXNzLCBcImFmdGVyZW5kXCIsIHRoaXMuZWxlbWVudHMuaW5wdXQpO1xuXG4gICAgdGhpcy5lbGVtZW50cy5jbG9zZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgdGhpcy5lbGVtZW50cy5pbnB1dC5mb2N1cygpO1xuICAgICAgdGhpcy5yZW5kZXIoaGlkZGVuSW50ZXJmYWNlUmVuZGVyU3RhdGUpO1xuICAgICAgY29uc3QgW20sIG5dID0gW1xuICAgICAgICB0aGlzLmVudGl0eS5jb25maWcub25JbnB1dENsZWFyZWQsXG4gICAgICAgIHRoaXMuZW50aXR5LmNvbmZpZy5vblJlc3VsdHNIaWRkZW5cbiAgICAgIF07XG4gICAgICBtID8gbSgpIDogbnVsbDtcbiAgICAgIG4gPyBuKCkgOiBudWxsO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhckRvbSgpIHtcbiAgICBjbGVhcih0aGlzLmVsZW1lbnRzLm91dHB1dCk7XG4gICAgY2xlYXIodGhpcy5lbGVtZW50cy5saXN0KTtcbiAgICB0aGlzLmVsZW1lbnRzLmNsb3NlQnV0dG9uPy5yZW1vdmUoKTtcbiAgICB0aGlzLmVsZW1lbnRzLm91dHB1dC5jbGFzc0xpc3QucmVtb3ZlKFwic3Rvcmstb3V0cHV0LXZpc2libGVcIik7XG4gIH1cblxuICByZW5kZXIoc3RhdGU6IFJlbmRlclN0YXRlKTogdm9pZCB7XG4gICAgY29uc3QgcXVlcnkgPSAodGhpcy5lbGVtZW50cy5pbnB1dCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICB0aGlzLmNsZWFyRG9tKCk7XG4gICAgdGhpcy5sYXN0UmVuZGVyU3RhdGUgPSBzdGF0ZTtcblxuICAgIGlmIChzdGF0ZS5zaG93UHJvZ3Jlc3MgJiYgc3RhdGUucHJvZ3Jlc3MgJiYgc3RhdGUucHJvZ3Jlc3MgPCAxKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLnByb2dyZXNzLnN0eWxlLndpZHRoID0gYCR7c3RhdGUucHJvZ3Jlc3MgKiAxMDB9JWA7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5zaG93UHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMucHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBgMTAwJWA7XG4gICAgICB0aGlzLmVsZW1lbnRzLnByb2dyZXNzLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZXJyb3IpIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuaW5wdXQuY2xhc3NMaXN0LmFkZChcInN0b3JrLWVycm9yXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdldFF1ZXJ5KCkubGVuZ3RoID4gMCAmJiBzdGF0ZS5yZXN1bHRzVmlzaWJsZSkge1xuICAgICAgdGhpcy5lbGVtZW50cy5vdXRwdXQuY2xhc3NMaXN0LmFkZChcInN0b3JrLW91dHB1dC12aXNpYmxlXCIpO1xuICAgICAgYWRkKHRoaXMuZWxlbWVudHMubWVzc2FnZSwgXCJiZWZvcmVlbmRcIiwgdGhpcy5lbGVtZW50cy5vdXRwdXQpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5tZXNzYWdlKSB7XG4gICAgICBzZXRUZXh0KHRoaXMuZWxlbWVudHMubWVzc2FnZSwgc3RhdGUubWVzc2FnZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnJlc3VsdHM/Lmxlbmd0aCA+IDAgJiYgc3RhdGUucmVzdWx0c1Zpc2libGUpIHtcbiAgICAgIGFkZCh0aGlzLmVsZW1lbnRzLmxpc3QsIFwiYmVmb3JlZW5kXCIsIHRoaXMuZWxlbWVudHMub3V0cHV0KTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZS5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0YXRlLnJlc3VsdHNbaV07XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlT3B0aW9uczogTGlzdEl0ZW1EaXNwbGF5T3B0aW9ucyA9IHtcbiAgICAgICAgICBzZWxlY3RlZDogaSA9PT0gdGhpcy5oaWdobGlnaHRlZFJlc3VsdCxcbiAgICAgICAgICBzaG93U2NvcmVzOiBzdGF0ZS5zaG93U2NvcmVzXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPSByZXN1bHRUb0xpc3RJdGVtKHJlc3VsdCwgZ2VuZXJhdGVPcHRpb25zKTtcbiAgICAgICAgYWRkKGxpc3RJdGVtIGFzIEhUTUxFbGVtZW50LCBcImJlZm9yZWVuZFwiLCB0aGlzLmVsZW1lbnRzLmxpc3QpO1xuXG4gICAgICAgIGxpc3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmhvdmVyU2VsZWN0RW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKGkgIT09IHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VIaWdobGlnaHRlZFJlc3VsdCh7IHRvOiBpLCBzaG91bGRTY3JvbGxUbzogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBsaXN0SXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuc2VsZWN0UmVzdWx0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhZGQodGhpcy5lbGVtZW50cy5hdHRyaWJ1dGlvbiwgXCJiZWZvcmVlbmRcIiwgdGhpcy5lbGVtZW50cy5vdXRwdXQpO1xuICAgIH1cblxuICAgIGlmICgocXVlcnk/Lmxlbmd0aCB8fCAwKSA+IDAgJiYgdGhpcy5lbnRpdHkuY29uZmlnLnNob3dDbG9zZUJ1dHRvbikge1xuICAgICAgYWRkKHRoaXMuZWxlbWVudHMuY2xvc2VCdXR0b24sIFwiYWZ0ZXJlbmRcIiwgdGhpcy5lbGVtZW50cy5pbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RSZXN1bHQoKSB7XG4gICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5lbnRpdHkucmVzdWx0c1t0aGlzLmhpZ2hsaWdodGVkUmVzdWx0XTtcbiAgICAgIGlmICh0aGlzLmVudGl0eS5jb25maWcub25SZXN1bHRTZWxlY3RlZCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgdGhpcy5lbnRpdHkuY29uZmlnLm9uUmVzdWx0U2VsZWN0ZWQodGhpcy5nZXRRdWVyeSgpLCByZXN1bHQpXG4gICAgICAgICkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbihyZXN1bHQuZW50cnkudXJsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKHJlc3VsdC5lbnRyeS51cmwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KG9wdGlvbnM6IHtcbiAgICB0bzogbnVtYmVyO1xuICAgIHNob3VsZFNjcm9sbFRvOiBib29sZWFuO1xuICB9KTogbnVtYmVyIHtcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gdGhpcy5oaWdobGlnaHRlZFJlc3VsdDtcblxuICAgIGNvbnN0IHJlc29sdmVkSWR4ID0gTWF0aC5tYXgoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4odGhpcy5lbnRpdHkucmVzdWx0cy5sZW5ndGggLSAxLCBvcHRpb25zLnRvKVxuICAgICk7XG5cbiAgICB0aGlzLmhpZ2hsaWdodGVkUmVzdWx0ID0gcmVzb2x2ZWRJZHg7XG4gICAgdGhpcy5zY3JvbGxBbmNob3JQb2ludCA9XG4gICAgICAocHJldmlvdXNWYWx1ZSB8fCAwKSA8IHJlc29sdmVkSWR4ID8gXCJlbmRcIiA6IFwic3RhcnRcIjtcblxuICAgIGxldCB0YXJnZXRGb3JTY3JvbGxUbyA9IG51bGw7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXR5LnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzLmxpc3Q/LmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBoaWdobGlnaHRlZENsYXNzTmFtZSA9IFwic2VsZWN0ZWRcIjtcblxuICAgICAgaWYgKGkgPT0gcmVzb2x2ZWRJZHgpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGhpZ2hsaWdodGVkQ2xhc3NOYW1lKTtcbiAgICAgICAgdGFyZ2V0Rm9yU2Nyb2xsVG8gPSBlbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGhpZ2hsaWdodGVkQ2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1c2luZyBvcHRpb25zLmJ5IGFzIGEgcHJveHkgZm9yIGtleWJvYXJkIHNlbGVjdGlvblxuICAgIGlmIChvcHRpb25zLnNob3VsZFNjcm9sbFRvKSB7XG4gICAgICB0aGlzLmhvdmVyU2VsZWN0RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKHRhcmdldEZvclNjcm9sbFRvKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBleGlzdHNCZXlvbmRDb250YWluZXJCb3VuZHMoXG4gICAgICAgICAgICB0YXJnZXRGb3JTY3JvbGxUbyBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMubGlzdFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgKHRhcmdldEZvclNjcm9sbFRvIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIixcbiAgICAgICAgICAgIGJsb2NrOiB0aGlzLnNjcm9sbEFuY2hvclBvaW50LFxuICAgICAgICAgICAgaW5saW5lOiBcIm5lYXJlc3RcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdmVkSWR4O1xuICB9XG5cbiAgaGFuZGxlS2V5RG93bkV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgVVAgPSAzODtcbiAgICBjb25zdCBET1dOID0gNDA7XG4gICAgY29uc3QgUkVUVVJOID0gMTM7XG4gICAgY29uc3QgRVNDID0gMjc7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgIGNhc2UgRE9XTjoge1xuICAgICAgICBpZiAodGhpcy5oaWdobGlnaHRlZFJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VIaWdobGlnaHRlZFJlc3VsdCh7IHRvOiAwLCBzaG91bGRTY3JvbGxUbzogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgKyAxLFxuICAgICAgICAgICAgdGhpcy5lbnRpdHkucmVzdWx0cy5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KHsgdG86IHRhcmdldCwgc2hvdWxkU2Nyb2xsVG86IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgVVA6IHtcbiAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IE1hdGgubWF4KDAsIHRoaXMuaGlnaGxpZ2h0ZWRSZXN1bHQgLSAxKTtcbiAgICAgICAgICB0aGlzLmNoYW5nZUhpZ2hsaWdodGVkUmVzdWx0KHsgdG86IHRhcmdldCwgc2hvdWxkU2Nyb2xsVG86IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGNhc2UgUkVUVVJOOlxuICAgICAgICB0aGlzLnNlbGVjdFJlc3VsdCgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBFU0M6XG4gICAgICAgIGlmICh0aGlzLmxhc3RSZW5kZXJTdGF0ZS5yZXN1bHRzVmlzaWJsZSkge1xuICAgICAgICAgIHRoaXMucmVuZGVyKGhpZGRlbkludGVyZmFjZVJlbmRlclN0YXRlKTtcbiAgICAgICAgICBjb25zdCBtID0gdGhpcy5lbnRpdHkuY29uZmlnLm9uUmVzdWx0c0hpZGRlbjtcbiAgICAgICAgICBtID8gbSgpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICB0aGlzLnJlbmRlcihoaWRkZW5JbnRlcmZhY2VSZW5kZXJTdGF0ZSk7IC8vIFRvIGNsZWFyIFt4XSBidXR0b25cbiAgICAgICAgICBjb25zdCBtID0gdGhpcy5lbnRpdHkuY29uZmlnLm9uSW5wdXRDbGVhcmVkO1xuICAgICAgICAgIG0gPyBtKCkgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVJbnB1dEV2ZW50KGV2ZW50OiBJbnB1dEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5lbnRpdHkucGVyZm9ybVNlYXJjaCgoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcbiAgfVxuXG4gIGdldFF1ZXJ5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICh0aGlzLmVsZW1lbnRzLmlucHV0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlKFxuICBuYW1lOiBzdHJpbmcsXG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIEFycmF5PHN0cmluZz4+XG4pOiBIVE1MRWxlbWVudCB7XG4gIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xuICBpZiAoYXR0cmlidXRlcy5jbGFzc05hbWVzKSB7XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBhdHRyaWJ1dGVzLmNsYXNzTmFtZXMuam9pbihcIiBcIikpO1xuICB9XG4gIHJldHVybiBlbGVtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkKFxuICBlbGVtOiBIVE1MRWxlbWVudCxcbiAgbG9jYXRpb246IEluc2VydFBvc2l0aW9uLFxuICByZWZlcmVuY2U6IEhUTUxFbGVtZW50XG4pOiB2b2lkIHtcbiAgcmVmZXJlbmNlLmluc2VydEFkamFjZW50RWxlbWVudChsb2NhdGlvbiwgZWxlbSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihlbGVtOiBIVE1MRWxlbWVudCB8IG51bGwpOiB2b2lkIHtcbiAgd2hpbGUgKGVsZW0gJiYgZWxlbS5maXJzdENoaWxkKSB7XG4gICAgZWxlbS5yZW1vdmVDaGlsZChlbGVtLmZpcnN0Q2hpbGQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUZXh0KGVsZW06IEhUTUxFbGVtZW50IHwgbnVsbCwgdGV4dDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG4gIGlmIChlbGVtICYmIGVsZW0uZmlyc3RDaGlsZCkge1xuICAgIGVsZW0ucmVwbGFjZUNoaWxkKHRleHROb2RlLCBlbGVtLmZpcnN0Q2hpbGQpO1xuICB9IGVsc2UgaWYgKGVsZW0pIHtcbiAgICBlbGVtLmFwcGVuZENoaWxkKHRleHROb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhpc3RzQmV5b25kQ29udGFpbmVyQm91bmRzKFxuICBlbGVtOiBIVE1MRWxlbWVudCxcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuKTogYm9vbGVhbiB7XG4gIGNvbnN0IGVsZW1Cb3VuZGluZ0JveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNvbnRhaW5lckJvdW5kaW5nQm94ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHJldHVybiAoXG4gICAgZWxlbUJvdW5kaW5nQm94LmJvdHRvbSA+IGNvbnRhaW5lckJvdW5kaW5nQm94LmJvdHRvbSB8fFxuICAgIGVsZW1Cb3VuZGluZ0JveC50b3AgPCBjb250YWluZXJCb3VuZGluZ0JveC50b3BcbiAgKTtcbn1cbiIsImltcG9ydCB7IGhpZ2hsaWdodCB9IGZyb20gXCIuL3BlbmNpbFwiO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSBcIi4vc2VhcmNoRGF0YVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpc3RJdGVtRGlzcGxheU9wdGlvbnMge1xuICBzZWxlY3RlZDogYm9vbGVhbjtcbiAgc2hvd1Njb3JlczogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VsdFRvTGlzdEl0ZW0oXG4gIHJlc3VsdDogUmVzdWx0LFxuICBvcHRpb25zOiBMaXN0SXRlbURpc3BsYXlPcHRpb25zXG4pOiBDaGlsZE5vZGUge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbiAgdGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuPGxpIGNsYXNzPVwic3RvcmstcmVzdWx0JHtvcHRpb25zLnNlbGVjdGVkID8gXCIgc2VsZWN0ZWRcIiA6IFwiXCJ9XCI+XG4gIDxhIGhyZWY9XCIke3Jlc3VsdC5lbnRyeS51cmx9XCI+XG4gICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlblwiPlxuICAgICAgPHAgY2xhc3M9XCJzdG9yay10aXRsZVwiPiR7aGlnaGxpZ2h0KFxuICAgICAgICByZXN1bHQuZW50cnkudGl0bGUsXG4gICAgICAgIHJlc3VsdC50aXRsZV9oaWdobGlnaHRfcmFuZ2VzXG4gICAgICApfTwvcD5cbiAgICAgICR7b3B0aW9ucy5zaG93U2NvcmVzID8gYDxjb2RlPjxiPiR7cmVzdWx0LnNjb3JlfTwvYj48L2NvZGU+YCA6IFwiXCJ9XG4gICAgPC9kaXY+XG4gICAgICAke3Jlc3VsdC5leGNlcnB0c1xuICAgICAgICAubWFwKFxuICAgICAgICAgIGUgPT4gYDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW5cIj48cCBjbGFzcz1cInN0b3JrLWV4Y2VycHRcIj5cbiAgICAgICAgLi4uJHtoaWdobGlnaHQoZS50ZXh0LCBlLmhpZ2hsaWdodF9yYW5nZXMpfS4uLlxuICAgICAgICA8L3A+XG4gICAgICAgICR7b3B0aW9ucy5zaG93U2NvcmVzID8gYDxjb2RlPiR7ZS5zY29yZX08L2NvZGU+YCA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PmBcbiAgICAgICAgKVxuICAgICAgICAuam9pbihcIlwiKX1cbiAgPC9hPlxuPC9saT5gO1xuICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZCBhcyBDaGlsZE5vZGU7XG59XG4iLCIvLyBJdCdzIGxpa2UgSGFuZGxlYmFycywgYnV0IHNtYWxsZXIuXG5cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHQodGV4dCwgaGlnaGxpZ2h0X3Jhbmdlcykge1xuICBmdW5jdGlvbiBpbnNlcnQoc3RyLCBpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cigwLCBpbmRleCkgKyB2YWx1ZSArIHN0ci5zdWJzdHIoaW5kZXgpO1xuICB9XG5cbiAgdmFyIGNoYXJhY3RlcnNBbHJlYWR5QWRkZWQgPSAwO1xuXG4gIGZvciAobGV0IHJhbmdlIG9mIGhpZ2hsaWdodF9yYW5nZXMpIHtcbiAgICBsZXQgYmVnaW5uaW5nSW5zZXJ0aW9uID0gYDxzcGFuIGNsYXNzPVwic3RvcmstaGlnaGxpZ2h0XCI+YDtcbiAgICBsZXQgZW5kSW5zZXJ0aW9uID0gYDwvc3Bhbj5gO1xuXG4gICAgdGV4dCA9IGluc2VydChcbiAgICAgIHRleHQsXG4gICAgICByYW5nZS5iZWdpbm5pbmcgKyBjaGFyYWN0ZXJzQWxyZWFkeUFkZGVkLFxuICAgICAgYmVnaW5uaW5nSW5zZXJ0aW9uXG4gICAgKTtcbiAgICBjaGFyYWN0ZXJzQWxyZWFkeUFkZGVkICs9IGJlZ2lubmluZ0luc2VydGlvbi5sZW5ndGg7XG5cbiAgICB0ZXh0ID0gaW5zZXJ0KHRleHQsIHJhbmdlLmVuZCArIGNoYXJhY3RlcnNBbHJlYWR5QWRkZWQsIGVuZEluc2VydGlvbik7XG4gICAgY2hhcmFjdGVyc0FscmVhZHlBZGRlZCArPSBlbmRJbnNlcnRpb24ubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgeyBkaWZmZXJlbmNlIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb24ge1xuICBzaG93UHJvZ3Jlc3M6IGJvb2xlYW47XG4gIHByaW50SW5kZXhJbmZvOiBib29sZWFuO1xuICBzaG93U2NvcmVzOiBib29sZWFuO1xuICBzaG93Q2xvc2VCdXR0b246IGJvb2xlYW47XG4gIG1pbmltdW1RdWVyeUxlbmd0aDogbnVtYmVyO1xuICBvblF1ZXJ5VXBkYXRlPzogKHF1ZXJ5OiBzdHJpbmcsIHJlc3VsdHM6IHVua25vd24pID0+IHVua25vd247XG4gIG9uUmVzdWx0U2VsZWN0ZWQ/OiAocXVlcnk6IHN0cmluZywgcmVzdWx0OiB1bmtub3duKSA9PiB1bmtub3duO1xuICBvblJlc3VsdHNIaWRkZW4/OiAoKSA9PiB1bmtub3duO1xuICBvbklucHV0Q2xlYXJlZD86ICgpID0+IHVua25vd247XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnOiBSZWFkb25seTxDb25maWd1cmF0aW9uPiA9IHtcbiAgc2hvd1Byb2dyZXNzOiB0cnVlLFxuICBwcmludEluZGV4SW5mbzogZmFsc2UsXG4gIHNob3dTY29yZXM6IGZhbHNlLFxuICBzaG93Q2xvc2VCdXR0b246IHRydWUsXG4gIG1pbmltdW1RdWVyeUxlbmd0aDogMyxcbiAgb25RdWVyeVVwZGF0ZTogdW5kZWZpbmVkLFxuICBvblJlc3VsdFNlbGVjdGVkOiB1bmRlZmluZWQsXG4gIG9uUmVzdWx0c0hpZGRlbjogdW5kZWZpbmVkLFxuICBvbklucHV0Q2xlYXJlZDogdW5kZWZpbmVkXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlT3ZlcnJpZGRlbkNvbmZpZyhcbiAgb3ZlcnJpZGVzOiBQYXJ0aWFsPENvbmZpZ3VyYXRpb24+XG4pOiBDb25maWd1cmF0aW9uIHtcbiAgY29uc3QgY29uZmlnS2V5RGlmZiA9IGRpZmZlcmVuY2UoXG4gICAgT2JqZWN0LmtleXMob3ZlcnJpZGVzKSxcbiAgICBPYmplY3Qua2V5cyhkZWZhdWx0Q29uZmlnKVxuICApO1xuXG4gIGlmIChjb25maWdLZXlEaWZmLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBwbHVyYWwgPSAoY291bnQ6IG51bWJlciwgc2luZ3VsYXI6IHN0cmluZywgcGx1cmFsOiBzdHJpbmcpID0+XG4gICAgICBjb3VudCA9PSAxID8gc2luZ3VsYXIgOiBwbHVyYWw7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgJHtwbHVyYWwoXG4gICAgICAgIGNvbmZpZ0tleURpZmYubGVuZ3RoLFxuICAgICAgICBcImtleVwiLFxuICAgICAgICBcImtleXNcIlxuICAgICAgKX0gaW4gY29uZmlnIG9iamVjdDogJHtKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGNvbmZpZ0tleURpZmYpKX1gXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG91dHB1dDogQ29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDb25maWcpO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGRlZmF1bHRDb25maWcpIGFzIEFycmF5PGtleW9mIENvbmZpZ3VyYXRpb24+KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVWYWwgPSBvdmVycmlkZXNba2V5XTtcbiAgICBpZiAob3ZlcnJpZGVWYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICBvdXRwdXRba2V5XSA9IG92ZXJyaWRlVmFsO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaHRtbFRvRWxlbWVudChodG1sOiBzdHJpbmcpOiBDaGlsZE5vZGUgfCBudWxsIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG4gIGh0bWwgPSBodG1sLnRyaW0oKTsgLy8gTmV2ZXIgcmV0dXJuIGEgdGV4dCBub2RlIG9mIHdoaXRlc3BhY2UgYXMgdGhlIHJlc3VsdFxuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sO1xuICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlmZmVyZW5jZTxUPihhcnIxOiBBcnJheTxUPiwgYXJyMjogQXJyYXk8VD4pOiBBcnJheTxUPiB7XG4gIGNvbnN0IHNldDEgPSBuZXcgU2V0KGFycjEpO1xuICBjb25zdCBzZXQyID0gbmV3IFNldChhcnIyKTtcbiAgY29uc3QgZGlmZiA9IG5ldyBTZXQoQXJyYXkuZnJvbShzZXQxKS5maWx0ZXIoeCA9PiAhc2V0Mi5oYXMoeCkpKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oZGlmZik7XG59XG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcblxuaW50ZXJmYWNlIEluZGV4TG9hZGVyQ2FsbGJhY2tzIHtcbiAgbG9hZDogKGV2ZW50OiBFdmVudCwgZW50aXR5OiBFbnRpdHkpID0+IHZvaWQ7XG4gIHByb2dyZXNzOiAocGVyY2VudGFnZTogbnVtYmVyLCBlbnRpdHk6IEVudGl0eSkgPT4gdm9pZDtcbiAgZXJyb3I6ICgpID0+IHZvaWQ7XG59XG5cbmNvbnN0IEZBS0VfUFJPR1JFU1NfQlVNUF9PTl9TVEFSVCA9IDAuMDM7XG5jb25zdCBQUk9HUkVTU19TSE9XSU5HX0lOREVYX05PVF9ZRVRfUkVHSVNURVJFRCA9IDAuOTQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkSW5kZXhGcm9tVXJsKFxuICBlbnRpdHk6IEVudGl0eSxcbiAgdXJsOiBzdHJpbmcsXG4gIGNhbGxiYWNrczogSW5kZXhMb2FkZXJDYWxsYmFja3Ncbik6IHZvaWQge1xuICBjb25zdCByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgci5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBlID0+IHtcbiAgICAvLyBUaGlzIGdldHMgY2FsbGVkIGV2ZW4gaWYgd2UgZ2V0IGEgNDA0IHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciFcbiAgICBpZiAoY2FsbGJhY2tzLmxvYWQpIHtcbiAgICAgIGNhbGxiYWNrcy5sb2FkKGUsIGVudGl0eSk7XG4gICAgfVxuICB9KTtcblxuICByLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGZldGNoICR7dXJsfWApO1xuICAgIGNhbGxiYWNrcy5lcnJvcigpO1xuICB9KTtcblxuICByLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBlID0+IHtcbiAgICBpZiAoY2FsbGJhY2tzLnByb2dyZXNzKSB7XG4gICAgICBjb25zdCBsb2FkZWRQZXJjZW50YWdlID0gTWF0aC5taW4oXG4gICAgICAgIE1hdGgubWF4KEZBS0VfUFJPR1JFU1NfQlVNUF9PTl9TVEFSVCwgZS5sb2FkZWQgLyBlLnRvdGFsKSxcbiAgICAgICAgUFJPR1JFU1NfU0hPV0lOR19JTkRFWF9OT1RfWUVUX1JFR0lTVEVSRURcbiAgICAgICk7XG4gICAgICBjYWxsYmFja3MucHJvZ3Jlc3MobG9hZGVkUGVyY2VudGFnZSwgZW50aXR5KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChjYWxsYmFja3MucHJvZ3Jlc3MpIHtcbiAgICBjYWxsYmFja3MucHJvZ3Jlc3MoRkFLRV9QUk9HUkVTU19CVU1QX09OX1NUQVJULCBlbnRpdHkpO1xuICB9XG5cbiAgci5yZXNwb25zZVR5cGUgPSBcImFycmF5YnVmZmVyXCI7XG4gIHIub3BlbihcIkdFVFwiLCB1cmwpO1xuICByLnNlbmQoKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=